<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ROSS.Net: rn-extern.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>rn-extern.h File Reference</h1>
<p>

<p>
<a href="rn-extern_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#53249b37b398d1ca13ac07ccfa71695c">rn_hash_create</a> (unsigned int)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#2620ab4920ffc4d1a13a2dc3aa6b4339">rn_hash_insert</a> (void *h, rn_link *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_link *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#7f9d4f4a632e20238fc19af8afee1727">rn_hash_remove</a> (void *h, rn_link *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_link *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#4156b94b0e4918e96f8c5d35e4cdb94c">rn_hash_fetch</a> (void *h, int id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#8890679c55545bd36e770b118a920b57">rn_route</a> (rn_machine *m, tw_lpid dst)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#2071d019422a8152e6d4e70cb9151f64">rn_route_change</a> (rn_machine *m, int loc, int new_val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#f0663f84c94e3b0f8e0b186e075ac451">rn_ft_route_add</a> (tw_lp *lp, int id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#5fe23dcb9b26888bc14d50f6033e1b3e">rn_ft_route_del</a> (tw_lp *lp, int id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_event *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#1b018b2a83777582dde06961f4ef2b80">rn_timer_simple</a> (tw_lp *lp, tw_stime ts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_event *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#0ac1d7574bf764f8813b77b2ee72d79d">rn_timer_init</a> (tw_lp *lp, tw_stime ts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_event *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#5b99d884fbe86665c417897138aff8a6">rn_timer_reset</a> (tw_lp *lp, tw_event **e, tw_stime ts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#28a608317636d45bb278a081d3dea2d2">rn_timer_cancel</a> (tw_lp *lp, tw_event **e)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_as *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#21073a7b880365fc10762b642eb7bd31">rn_nextas</a> (rn_as *as)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Functions relating to an Autonomous System.  <a href="#21073a7b880365fc10762b642eb7bd31"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a> (xmlNode *node, char *prop)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#c0c3b087c86027c48acfc7560ee35109">rn_xml_init</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#fe3dfafe439a0e560457b5be8c23c3cd">rn_xml_end</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#bad1d32ba0876edc7cc08a19484c5f9e">rn_xml_topology</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#1c0ca34d8a041f0b2774b7c038e00bac">rn_xml_link_topology</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#081e99a381bf7bdcfb17433211cae946">rn_xml_model</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">xmlXPathObjectPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#1ba6b31617e8e4f7346b7fb67c34d74a">xpath</a> (char *expr, xmlXPathContextPtr <a class="el" href="rn-global_8c.html#be628a165ce36512670a0d77bda92693">ctxt</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_area *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#d140702abef260820105f64aeae2ee77">rn_nextarea</a> (rn_area *as)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_area *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#1f832ec1dcfed2b4e8c2162dea75ccfe">rn_nextarea_onas</a> (rn_area *ar, rn_as *as)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_subnet *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#9ebd1515cb5c70a5a7ea41a0bd282b93">rn_nextsn_onarea</a> (rn_subnet *sn, rn_area *ar)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_machine *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#732aef9ee6200a2cba7402e307fae9f7">rn_nextmachine_onsn</a> (rn_machine *m, rn_subnet *sn)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_as *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#d3b2637627bbb86acf01b38d07495042">rn_getas</a> (rn_machine *m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_area *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#d45bc39e5a89bce656786b571acb1ae8">rn_getarea</a> (rn_machine *m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_subnet *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#e6bc1db7b315ebbf760fac910a9dd2fa">rn_getsubnet</a> (rn_machine *m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_machine *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a> (tw_lpid id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#9a7277839f37e9a52cec34ba97ad7301">rn_setmachine</a> (rn_machine *m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#38fc9f234666905ea9acfe32fab817f2">rn_machine_print</a> (rn_machine *m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="rn-types_8h.html#395ffa7364b7a445ecf4336e81c475b6">rn_link_status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#6c557039fb9044b6a1674744fe3adb06">rn_link_getstatus</a> (rn_link *l, tw_stime ts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#9c71664bcfbe5b1708a37d307e8d953e">rn_link_random_weight_changes</a> (tw_lp *lp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#c949bb2e84a12ba2e72ad16eaabd0737">rn_link_random_changes</a> (tw_lp *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#ead1607572b6ebacc4aa7ae6960e3f5b">rn_link_setwire</a> (rn_link *l)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_machine *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#0b32d1af0df462436992bd20d9f3754c">rn_link_getwire</a> (rn_link *l)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_link *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#d7173e076af48912ba761e8ef0cc1b22">rn_getlink</a> (rn_machine *m, tw_lpid id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#31389041e3d04f5bb4efd6f7543bf7cb">rn_message_setsize</a> (rn_message *e, unsigned long sz)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#b5b97cf3985f38a87dcd07911d371a4a">rn_message_getsize</a> (rn_message *e)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#86476e44643558d9a2008c976220a0a3">rn_message_data</a> (rn_message *m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#f9b20cc862ff6917c49c4727c88ef5ad">rn_message_setdirection</a> (rn_message *m, <a class="el" href="rn-types_8h.html#cd6ee16a232957f10b11c99c7ea957a2">rn_message_type</a> direction)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#fecccd05d182fb854799ff0f577f835f">rn_message_getdirection</a> (rn_message *m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_event *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#54cc9a421610941e3b0ce5a3ce5e134c">rn_event_direct</a> (tw_lpid dst, tw_stime ts, tw_lp *src)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_event *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#5508bcf53c1fbeb71e6055021634a726">rn_event_new</a> (tw_lpid dst, tw_stime ts, tw_lp *src, <a class="el" href="rn-types_8h.html#cd6ee16a232957f10b11c99c7ea957a2">rn_message_type</a> dir, unsigned long int size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#3a6eb517cf4b083af531872ed92d4872">rn_event_data</a> (tw_event *e)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#f612514e86440f826258eafc8037cf11">rn_event_send</a> (tw_event *e)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#a5d6cfc1c375989af881be30c9954912">rn_setup_streams</a> (rn_lp_state *state, rn_lptype *types, tw_lp *lp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#cbcbdbead7a3d0ebc4e17aab58cc204b">rn_setup_links</a> (rn_lp_state *state, tw_lp *lp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#fb8b2d4b654a136f614b5e33f1c6abd1">rn_setup_options</a> (int argc, char **argv)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#8ea9cf6038e94e113986cd8cd058090e">rn_setup</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#b2e46cf163459a38075f59cf737c529f">rn_init</a> (rn_lptype *types)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#4438dd265d78376bba11255a72ae3ab6">rn_init_streams</a> (rn_lp_state *state, tw_lp *lp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#9e98b18d569af83029c135fb33b927a7">rn_init_lps</a> (rn_lptype *types)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#7f3ccdd0b584b32168fe4f9e5f2bed29">rn_models_init</a> (rn_lptype *, int, char **, char **)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#4418d85aec51a98ac3da0e9b91bbd4d2">rn_models_final</a> (rn_lptype *types)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#79d224fc0e16d1674eec421a623bd9c7">rn_getstate</a> (tw_lp *lp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_lp *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#d1652b032f9c35a9e597ecaf97775d23">rn_getlp</a> (rn_lp_state *state, int id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_lp *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#050a6ff37fd172e7679544f3a139b6e1">rn_next_lp</a> (rn_lp_state *state, tw_lp *last, int type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_lptype *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#7268bf89295ecff51e980a86a850a23c">rn_lp_gettype</a> (tw_lp *lp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#e1bf227205a39926be5992b9e60a861a">rn_lp_settype</a> (tw_lp *lp, char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_layer *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#b0a7da4becc0ae7d53909eea87a8316a">rn_layer_alloc</a> (unsigned int nlayers)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_stream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#bbe79ef704989690d5d0c23371396de9">rn_stream_alloc</a> (unsigned int nstreams)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_stream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#af86a65184f40426de1361196ef45cef">rn_getstream</a> (tw_lp *lp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_stream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#70fa5882507af4b8bd22a59ab93cfa30">rn_getstream_byport</a> (rn_lp_state *state, tw_lpid port)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#827667617ac3f5b6c168ec177fe72cf1">g_rn_link_prob</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#1f8c72ceadd5707b682dc77968ffd6d5">g_rn_converge_ospf</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#b5f1b9e6a511e7afe74d971e088af5b4">g_rn_converge_bgp</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#66f1631e26ca6c83a658476c809de53b">g_rn_src</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#6e0e4107628b08b633bca7ef6cbba758">g_rn_dst</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">xmlDocPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#ed2ae1d48ae8ce65c4143eb7be1d5956">document_network</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">xmlDocPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#aa8ab1bdabd942b8b8a32078e9222af7">document_links</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">xmlDocPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#3d821f7d07830b11765946503d18c0f5">document_model</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">xmlXPathContextPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">xmlXPathContextPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#d3661c804119c039f47237343db3c616">ctxt_links</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">xmlXPathContextPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#bf02fcaac7110159391e0374a38b83f4">ctxt_model</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#ac5ec8643078b9816be32d2eb0583bc7">g_rn_ttl</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#6d41cec685740bbfb7e6540e1ed5dff5">g_rn_msg_sz</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#7199204689d83ed6e37695c3baaa2f85">g_rn_tools_dir</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#e26a2f6ed0f9caa31e7f5809a42e90c0">g_rn_rt_table</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#6116080aae51cd236a5e93bae46780f1">g_rn_xml_topology</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#c3d4953961d8eb1c314de927cfe34d8c">g_rn_xml_link_topology</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#850a32d9b3d45f3b6f44b98ab26403c4">g_rn_xml_model</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#a46f0adf0f6be6d672defc691800ce69">g_rn_logs_dir</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_statistics *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#e2f7f2bc2453205e257508d6cd64a5f4">g_rn_stats</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_lptype *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#b4129909b76832eee80ae7a39dbcd907">g_rn_lptypes</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_as *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#e962fc7d5ec532396dd1808ce2b4e44a">g_rn_as</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#a4b6f1685fffeec2b8b2290b175bfc38">g_rn_nareas</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_area *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#d1b8f527a1303e1e1478e1e76f086a07">g_rn_nsubnets</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_subnet *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#0641aa1753cada99ed7c03e192fdc3a8">g_rn_nlinks</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#f19835b74f981f1e98a215a488aa0342">g_rn_nlink_status</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#7ca5dc0546d7333fe497cc998d7ba11a">g_rn_nmachines</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#415a115c34def079d8a050c69167e80b">g_rn_nrouters</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_machine *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#b98149ec75dce4cb706da065bc57d27f">g_rn_nstreams</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_stream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#23edd0fd73827e4194341e6b07f5efb0">g_rn_streams</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#ce8de6e19ef1ead23e7fdc435ee3f119">g_rn_nextstream</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#935d14a7cca164ca547f89596a675511">g_rn_nlayers</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rn_layer *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#111555df5ca6d0bfb0ada1a6e9f2b7fc">g_rn_layers</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#4bb80f1674984b5980c132a686cb0e0a">g_rn_nextlayer</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_barrier&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#fc24f4e05a9f4d5cdcab736a00af995c">g_rn_barrier</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#f2dad8c4f8bab4b8b1ab48751b65ebd0">g_rn_layer_lck</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tw_mutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rn-extern_8h.html#f352e8afc1578ec4cddee3bdab4ae52d">g_rn_stream_lck</a></td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="3a6eb517cf4b083af531872ed92d4872"></a><!-- doxytag: member="rn-extern.h::rn_event_data" ref="3a6eb517cf4b083af531872ed92d4872" args="(tw_event *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rn_event_data           </td>
          <td>(</td>
          <td class="paramtype">tw_event *&nbsp;</td>
          <td class="paramname"> <em>e</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-event_8c-source.html#l00167">167</a> of file <a class="el" href="rn-event_8c-source.html">rn-event.c</a>.</p>

<p>References <a class="el" href="rn-message_8c-source.html#l00016">rn_message_data()</a>.</p>

<p>Referenced by <a class="el" href="ftp_8c-source.html#l00034">ftp_event_handler()</a>, <a class="el" href="ospf-ip_8c-source.html#l00005">ospf_ip_route()</a>, and <a class="el" href="tcp-layer-util_8c-source.html#l00008">tcp_layer_util_event()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00168"></a>00168 {
<a name="l00169"></a>00169         <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *) <a class="code" href="rn-extern_8h.html#86476e44643558d9a2008c976220a0a3">rn_message_data</a>((rn_message *) tw_event_data(e));
<a name="l00170"></a>00170 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="54cc9a421610941e3b0ce5a3ce5e134c"></a><!-- doxytag: member="rn-extern.h::rn_event_direct" ref="54cc9a421610941e3b0ce5a3ce5e134c" args="(tw_lpid dst, tw_stime ts, tw_lp *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_event* rn_event_direct           </td>
          <td>(</td>
          <td class="paramtype">tw_lpid&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_stime&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>src</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-event_8c-source.html#l00008">8</a> of file <a class="el" href="rn-event_8c-source.html">rn-event.c</a>.</p>

<p>References <a class="el" href="rn-types_8h-source.html#l00058">DIRECT</a>, <a class="el" href="rn-stream_8c-source.html#l00023">rn_getstream()</a>, and <a class="el" href="ospf-global_8c-source.html#l00030">s</a>.</p>

<p>Referenced by <a class="el" href="epi-agent_8c-source.html#l00195">epi_agent_remove()</a>, <a class="el" href="epi-num_8c-source.html#l00021">epi_num_add()</a>, <a class="el" href="epi-num_8c-source.html#l00004">epi_num_check_report()</a>, and <a class="el" href="epi-num_8c-source.html#l00063">epi_num_remove()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00009"></a>00009 {
<a name="l00010"></a>00010         tw_event        *e;
<a name="l00011"></a>00011 
<a name="l00012"></a>00012         rn_lp_state     *state;
<a name="l00013"></a>00013         rn_stream       *<a class="code" href="ospf-extern_8h.html#b4c6c03359486e6fb0ac52a94493df1e">s</a>;
<a name="l00014"></a>00014         rn_message      *m;
<a name="l00015"></a>00015 
<a name="l00016"></a>00016         state = src-&gt;cur_state;
<a name="l00017"></a>00017         s = <a class="code" href="rn-extern_8h.html#af86a65184f40426de1361196ef45cef">rn_getstream</a>(src);
<a name="l00018"></a>00018 
<a name="l00019"></a>00019         e = tw_event_new(dst, ts, src);
<a name="l00020"></a>00020         m = tw_event_data(e);
<a name="l00021"></a>00021 
<a name="l00022"></a>00022         m-&gt;type = <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef021ea328a644e627283a35716a54108248">DIRECT</a>;
<a name="l00023"></a>00023         m-&gt;timer = state-&gt;cur_lp;
<a name="l00024"></a>00024 
<a name="l00025"></a>00025         m-&gt;size = s-&gt;cur_layer;
<a name="l00026"></a>00026         m-&gt;port = s-&gt;port;
<a name="l00027"></a>00027 
<a name="l00028"></a>00028         m-&gt;src = src-&gt;id;
<a name="l00029"></a>00029         m-&gt;dst = dst;
<a name="l00030"></a>00030 
<a name="l00031"></a>00031         <span class="keywordflow">return</span> e;
<a name="l00032"></a>00032 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5508bcf53c1fbeb71e6055021634a726"></a><!-- doxytag: member="rn-extern.h::rn_event_new" ref="5508bcf53c1fbeb71e6055021634a726" args="(tw_lpid dst, tw_stime ts, tw_lp *src, rn_message_type dir, unsigned long int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_event* rn_event_new           </td>
          <td>(</td>
          <td class="paramtype">tw_lpid&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_stime&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rn-types_8h.html#cd6ee16a232957f10b11c99c7ea957a2">rn_message_type</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
inter-lp: events which will be sent to a remote lp<p>
inter-lp events are handled as usual<p>
intra-lp: events which are sent to another layer on the same lp<p>
intra-lp events are immediately scheduled and processed, because their destination is the local machine, and have a zero timestamp offset, which means the following:<p>
the next layer is responsible for handling packet data, ie, from TCP to IP. The IP layer must re-create the TCP packect on the dest LP.<p>
abort events: should not let them traverse layers.. first layer to get abort is then the only one to get rolled back<p>
NOTE: We should probably base the timestamp off of the network characteristics, rather than make the model do it. When the model calls this function, and is the last layer, we should know the proper link to use, and can inform the model if this event will fail if sent, over the network. 
<p>Definition at line <a class="el" href="rn-event_8c-source.html#l00058">58</a> of file <a class="el" href="rn-event_8c-source.html">rn-event.c</a>.</p>

<p>References <a class="el" href="rn-types_8h-source.html#l00055">DOWNSTREAM</a>, <a class="el" href="rn-global_8c-source.html#l00015">g_rn_ttl</a>, <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>, <a class="el" href="rn-stream_8c-source.html#l00023">rn_getstream()</a>, <a class="el" href="rn-types_8h-source.html#l00068">rn_link_down</a>, <a class="el" href="rn-link_8c-source.html#l00033">rn_link_getstatus()</a>, <a class="el" href="ospf-global_8c-source.html#l00030">s</a>, and <a class="el" href="rn-types_8h-source.html#l00057">UPSTREAM</a>.</p>

<p>Referenced by <a class="el" href="bgp-connect_8c-source.html#l00013">bgp_connect()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00020">bgp_keepalive_send()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00113">bgp_keepalive_timer()</a>, <a class="el" href="bgp-notify_8c-source.html#l00004">bgp_notify_send()</a>, <a class="el" href="bgp-open_8c-source.html#l00004">bgp_open_send()</a>, <a class="el" href="bgp-update_8c-source.html#l00007">bgp_update_send()</a>, <a class="el" href="ip-downstream_8c-source.html#l00032">forward()</a>, <a class="el" href="ftp_8c-source.html#l00034">ftp_event_handler()</a>, <a class="el" href="ftp_8c-source.html#l00007">ftp_init()</a>, <a class="el" href="ip-packet_8c-source.html#l00004">ip_packet_drop()</a>, <a class="el" href="ip-upstream_8c-source.html#l00004">ip_upstream()</a>, <a class="el" href="num-file_8c-source.html#l00008">num_file_start()</a>, <a class="el" href="num-file_8c-source.html#l00024">num_file_stop()</a>, <a class="el" href="ospf-util_8c-source.html#l00004">ospf_event_new()</a>, <a class="el" href="tcp-util_8c-source.html#l00004">tcp_event_send()</a>, <a class="el" href="tcp-layer-util_8c-source.html#l00008">tcp_layer_util_event()</a>, <a class="el" href="tcp-process_8c-source.html#l00007">tcp_process_ack()</a>, and <a class="el" href="tcp-timeout_8c-source.html#l00004">tcp_timeout()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00060"></a>00060 {
<a name="l00061"></a>00061         tw_event        *e;
<a name="l00062"></a>00062         tw_stime         abs_ts = DBL_MAX;
<a name="l00063"></a>00063 
<a name="l00064"></a>00064         rn_lp_state     *state;
<a name="l00065"></a>00065         rn_message      *r;
<a name="l00066"></a>00066         rn_stream       *<a class="code" href="ospf-extern_8h.html#b4c6c03359486e6fb0ac52a94493df1e">s</a>;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068         rn_machine      *m;
<a name="l00069"></a>00069         <span class="comment">//rn_link               *l;</span>
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         state = src-&gt;cur_state;
<a name="l00072"></a>00072         s = <a class="code" href="rn-extern_8h.html#af86a65184f40426de1361196ef45cef">rn_getstream</a>(src);
<a name="l00073"></a>00073         m = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(src-&gt;id);
<a name="l00074"></a>00074         <span class="comment">//l = rn_getlink(m, dst-&gt;id);</span>
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <span class="comment">// if model attempts to send upstream event, and is </span>
<a name="l00077"></a>00077         <span class="comment">// top-most layer, abort processing</span>
<a name="l00078"></a>00078         <span class="keywordflow">if</span>(dir == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02c7fd648c8ce81263fefd787373903e5c">UPSTREAM</a> &amp;&amp; !s-&gt;cur_layer)
<a name="l00079"></a>00079                 <span class="keywordflow">return</span> src-&gt;pe-&gt;abort_event;
<a name="l00080"></a>00080 
<a name="l00081"></a>00081         <span class="comment">// Check for layer switching directions on us..</span>
<a name="l00082"></a>00082         <span class="keywordflow">if</span>(state-&gt;cev)
<a name="l00083"></a>00083         {
<a name="l00084"></a>00084                 r = tw_event_data(state-&gt;cev);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086                 <span class="keywordflow">if</span>(r-&gt;type == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02c7fd648c8ce81263fefd787373903e5c">UPSTREAM</a> &amp;&amp; dir == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02193085e792a05c4538ec2bc24c845652">DOWNSTREAM</a>)
<a name="l00087"></a>00087                 {
<a name="l00088"></a>00088                         state-&gt;cev = NULL;
<a name="l00089"></a>00089                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(r-&gt;type != dir &amp;&amp; dir == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02c7fd648c8ce81263fefd787373903e5c">UPSTREAM</a>)
<a name="l00090"></a>00090                 {
<a name="l00091"></a>00091                         state-&gt;cev = src-&gt;pe-&gt;cur_event;
<a name="l00092"></a>00092                         abs_ts = state-&gt;cev-&gt;recv_ts + ts;
<a name="l00093"></a>00093                 }
<a name="l00094"></a>00094         }
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="preprocessor">#if 0</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(l &amp;&amp; state-&gt;cev &amp;&amp; <a class="code" href="rn-types_8h.html#2d0a8ea9d30165ab589bd3431b19a80929bbbd97ec459362182b9056bd79054a">rn_link_down</a> == <a class="code" href="rn-extern_8h.html#6c557039fb9044b6a1674744fe3adb06">rn_link_getstatus</a>(l, abs_ts))
<a name="l00098"></a>00098         {
<a name="l00099"></a>00099                 e = src-&gt;pe-&gt;free_q-&gt;abort;
<a name="l00100"></a>00100                 e-&gt;src_lp = src;
<a name="l00101"></a>00101                 e-&gt;dest_lp = dst;
<a name="l00102"></a>00102                 e-&gt;recv_ts = tw_now(src) + ts;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104                 r = tw_event_data(src-&gt;pe-&gt;free_q-&gt;abort);
<a name="l00105"></a>00105                 r-&gt;type = dir;
<a name="l00106"></a>00106                 r-&gt;src = src-&gt;id;
<a name="l00107"></a>00107                 r-&gt;dst = dst-&gt;id;
<a name="l00108"></a>00108                 r-&gt;size = size;
<a name="l00109"></a>00109                 r-&gt;port = s-&gt;port;
<a name="l00110"></a>00110                 r-&gt;timer = NULL;
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 <span class="preprocessor">#if VERIFY_RN</span>
<a name="l00113"></a>00113 <span class="preprocessor"></span>                printf(<span class="stringliteral">"%ld RN: new ABORT event %d, port %d \n"</span>, 
<a name="l00114"></a>00114                         src-&gt;id, (<span class="keywordtype">int</span>) e, r-&gt;port);
<a name="l00115"></a>00115 <span class="preprocessor">#endif</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>
<a name="l00117"></a>00117                 <span class="keywordflow">return</span> e;
<a name="l00118"></a>00118         }
<a name="l00119"></a>00119 <span class="preprocessor">#endif</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span>
<a name="l00121"></a>00121         <span class="keywordflow">if</span>(!state-&gt;cev)
<a name="l00122"></a>00122         {
<a name="l00123"></a>00123                 e = tw_event_new(dst, ts, src);
<a name="l00124"></a>00124 
<a name="l00125"></a>00125                 state-&gt;cev = e;
<a name="l00126"></a>00126                 r = tw_event_data(e);
<a name="l00127"></a>00127 
<a name="l00128"></a>00128                 r-&gt;type = dir;
<a name="l00129"></a>00129                 r-&gt;src = src-&gt;id;
<a name="l00130"></a>00130                 r-&gt;dst = dst;
<a name="l00131"></a>00131                 r-&gt;size = size;
<a name="l00132"></a>00132                 r-&gt;port = s-&gt;port;
<a name="l00133"></a>00133                 r-&gt;timer = NULL;
<a name="l00134"></a>00134                 r-&gt;ttl = <a class="code" href="rn-extern_8h.html#ac5ec8643078b9816be32d2eb0583bc7">g_rn_ttl</a>;
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 <span class="preprocessor">#if VERIFY_RN</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span>                printf(<span class="stringliteral">"%ld RN: Created new event %ld, port %d \n"</span>, 
<a name="l00138"></a>00138                         src-&gt;id, (<span class="keywordtype">long</span> <span class="keywordtype">int</span>) e, r-&gt;port);
<a name="l00139"></a>00139 <span class="preprocessor">#endif</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span>        } <span class="keywordflow">else</span>
<a name="l00141"></a>00141         {
<a name="l00142"></a>00142                 e = state-&gt;cev;
<a name="l00143"></a>00143                 e-&gt;recv_ts += ts;
<a name="l00144"></a>00144 
<a name="l00145"></a>00145                 r = tw_event_data(e);
<a name="l00146"></a>00146                 r-&gt;size = size;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148                 <span class="keywordflow">if</span>(e-&gt;recv_ts &gt; g_tw_ts_end)
<a name="l00149"></a>00149                         src-&gt;pe-&gt;cev_abort = 1;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151                 <span class="comment">//if((tw_lpid) e-&gt;dest_lp != dst)</span>
<a name="l00152"></a>00152                 <span class="keywordflow">if</span>(r-&gt;dst != dst)
<a name="l00153"></a>00153                 {
<a name="l00154"></a>00154 <span class="preprocessor">#if VERIFY_RN</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span>                        printf(<span class="stringliteral">"Redirecting event %ld: from %lld to %lld \n"</span>,
<a name="l00156"></a>00156                                 (<span class="keywordtype">long</span> <span class="keywordtype">int</span>) e, (tw_lpid) e-&gt;dest_lp, dst);
<a name="l00157"></a>00157 <span class="preprocessor">#endif</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>
<a name="l00159"></a>00159                         e-&gt;dest_lp = (tw_lp *) dst;
<a name="l00160"></a>00160                 }
<a name="l00161"></a>00161         }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163         <span class="keywordflow">return</span> e;
<a name="l00164"></a>00164 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f612514e86440f826258eafc8037cf11"></a><!-- doxytag: member="rn-extern.h::rn_event_send" ref="f612514e86440f826258eafc8037cf11" args="(tw_event *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_event_send           </td>
          <td>(</td>
          <td class="paramtype">tw_event *&nbsp;</td>
          <td class="paramname"> <em>e</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-event_8c-source.html#l00173">173</a> of file <a class="el" href="rn-event_8c-source.html">rn-event.c</a>.</p>

<p>References <a class="el" href="rn-types_8h-source.html#l00045">c_host</a>, <a class="el" href="rn-types_8h-source.html#l00058">DIRECT</a>, <a class="el" href="rn-types_8h-source.html#l00055">DOWNSTREAM</a>, <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>, <a class="el" href="rn-stream_8c-source.html#l00023">rn_getstream()</a>, <a class="el" href="rn-stream_8c-source.html#l00004">rn_getstream_byport()</a>, <a class="el" href="ospf-global_8c-source.html#l00030">s</a>, and <a class="el" href="rn-types_8h-source.html#l00057">UPSTREAM</a>.</p>

<p>Referenced by <a class="el" href="bgp-connect_8c-source.html#l00013">bgp_connect()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00020">bgp_keepalive_send()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00113">bgp_keepalive_timer()</a>, <a class="el" href="bgp-notify_8c-source.html#l00004">bgp_notify_send()</a>, <a class="el" href="bgp-open_8c-source.html#l00004">bgp_open_send()</a>, <a class="el" href="bgp-update_8c-source.html#l00007">bgp_update_send()</a>, <a class="el" href="epi-agent_8c-source.html#l00195">epi_agent_remove()</a>, <a class="el" href="epi-num_8c-source.html#l00021">epi_num_add()</a>, <a class="el" href="epi-num_8c-source.html#l00004">epi_num_check_report()</a>, <a class="el" href="epi-num_8c-source.html#l00063">epi_num_remove()</a>, <a class="el" href="ftp_8c-source.html#l00034">ftp_event_handler()</a>, <a class="el" href="ftp_8c-source.html#l00007">ftp_init()</a>, <a class="el" href="ip-downstream_8c-source.html#l00095">ip_downstream_forward()</a>, <a class="el" href="ip-downstream_8c-source.html#l00084">ip_downstream_source()</a>, <a class="el" href="ip-upstream_8c-source.html#l00004">ip_upstream()</a>, <a class="el" href="num-file_8c-source.html#l00008">num_file_start()</a>, <a class="el" href="num-file_8c-source.html#l00024">num_file_stop()</a>, <a class="el" href="ospf-util_8c-source.html#l00024">ospf_event_send()</a>, <a class="el" href="tcp-util_8c-source.html#l00004">tcp_event_send()</a>, <a class="el" href="tcp-layer-util_8c-source.html#l00008">tcp_layer_util_event()</a>, <a class="el" href="tcp-process_8c-source.html#l00007">tcp_process_ack()</a>, and <a class="el" href="tcp-timeout_8c-source.html#l00004">tcp_timeout()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00174"></a>00174 {
<a name="l00175"></a>00175         tw_memory       *b;
<a name="l00176"></a>00176         tw_lp           *l = NULL;
<a name="l00177"></a>00177 
<a name="l00178"></a>00178         rn_lp_state     *state = NULL;
<a name="l00179"></a>00179         rn_stream       *<a class="code" href="ospf-extern_8h.html#b4c6c03359486e6fb0ac52a94493df1e">s</a> = NULL;
<a name="l00180"></a>00180         rn_message      *rn_msg;
<a name="l00181"></a>00181         rn_machine      *m;
<a name="l00182"></a>00182 
<a name="l00183"></a>00183         rn_msg = tw_event_data(new_event);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185         <span class="keywordflow">if</span>(new_event-&gt;src_lp == NULL || new_event-&gt;src_lp-&gt;pe-&gt;cev_abort)
<a name="l00186"></a>00186         {
<a name="l00187"></a>00187                 <span class="keywordflow">return</span>;
<a name="l00188"></a>00188         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(rn_msg-&gt;type == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02193085e792a05c4538ec2bc24c845652">DOWNSTREAM</a>)
<a name="l00189"></a>00189         {
<a name="l00190"></a>00190                 state = (rn_lp_state *) new_event-&gt;src_lp-&gt;cur_state;
<a name="l00191"></a>00191                 s = <a class="code" href="rn-extern_8h.html#af86a65184f40426de1361196ef45cef">rn_getstream</a>(new_event-&gt;src_lp);
<a name="l00192"></a>00192         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(rn_msg-&gt;type == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02c7fd648c8ce81263fefd787373903e5c">UPSTREAM</a>)
<a name="l00193"></a>00193         {
<a name="l00194"></a>00194                 state = (rn_lp_state *) new_event-&gt;dest_lp-&gt;cur_state;
<a name="l00195"></a>00195                 s = <a class="code" href="rn-extern_8h.html#70fa5882507af4b8bd22a59ab93cfa30">rn_getstream_byport</a>(state, rn_msg-&gt;port);
<a name="l00196"></a>00196         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(rn_msg-&gt;type == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef021ea328a644e627283a35716a54108248">DIRECT</a>)
<a name="l00197"></a>00197         {
<a name="l00198"></a>00198                 tw_event_send(new_event);
<a name="l00199"></a>00199                 <span class="keywordflow">return</span>;
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 <span class="preprocessor">#if 0</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span>                <span class="comment">/*</span>
<a name="l00203"></a>00203 <span class="comment">                 * This is totally out-of-band .. similiar to a SIG_ALARM</span>
<a name="l00204"></a>00204 <span class="comment">                 * on the local machine</span>
<a name="l00205"></a>00205 <span class="comment">                 */</span>
<a name="l00206"></a>00206                 state = (rn_lp_state *) new_event-&gt;src_lp-&gt;cur_state;
<a name="l00207"></a>00207                 s = <a class="code" href="rn-extern_8h.html#af86a65184f40426de1361196ef45cef">rn_getstream</a>(new_event-&gt;src_lp);
<a name="l00208"></a>00208                 l = state-&gt;cur_lp = &amp;s-&gt;layers[s-&gt;cur_layer].lp;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210                 (*l-&gt;type.event)
<a name="l00211"></a>00211                         (l-&gt;cur_state,
<a name="l00212"></a>00212                         &amp;new_event-&gt;cv,
<a name="l00213"></a>00213                         (<span class="keywordtype">void</span> *) rn_msg, l);
<a name="l00214"></a>00214 
<a name="l00215"></a>00215                 <span class="keywordflow">return</span>;
<a name="l00216"></a>00216 <span class="preprocessor">#endif</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span>        } <span class="keywordflow">else</span>
<a name="l00218"></a>00218         {
<a name="l00219"></a>00219                 tw_error(TW_LOC, <span class="stringliteral">"Unknown event type sent!"</span>);
<a name="l00220"></a>00220         }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222         <span class="comment">/*</span>
<a name="l00223"></a>00223 <span class="comment">         * If direction is UP, and more layers, send up to next layer.</span>
<a name="l00224"></a>00224 <span class="comment">         * If direction is down, and more layers, send down to next layer</span>
<a name="l00225"></a>00225 <span class="comment">         *</span>
<a name="l00226"></a>00226 <span class="comment">         * If direction is UP, and at top, nowhere else to go, </span>
<a name="l00227"></a>00227 <span class="comment">         *                      so done, consider it processed.</span>
<a name="l00228"></a>00228 <span class="comment">         *</span>
<a name="l00229"></a>00229 <span class="comment">         * If direction is down, and no more layers, tw_event_send it.</span>
<a name="l00230"></a>00230 <span class="comment">         */</span>
<a name="l00231"></a>00231         <span class="keywordflow">if</span>(rn_msg-&gt;type == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02c7fd648c8ce81263fefd787373903e5c">UPSTREAM</a> &amp;&amp; s-&gt;cur_layer &gt; 0)
<a name="l00232"></a>00232         {
<a name="l00233"></a>00233                 s-&gt;cur_layer--;
<a name="l00234"></a>00234                 l = state-&gt;cur_lp = &amp;s-&gt;layers[s-&gt;cur_layer].lp;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236                 <span class="keywordflow">if</span>(s-&gt;cur_layer == 0)
<a name="l00237"></a>00237                         state-&gt;cev = NULL;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 <span class="preprocessor">#if VERIFY_RN</span>
<a name="l00240"></a>00240 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(rn_msg-&gt;src == 338 &amp;&amp; rn_msg-&gt;dst == 8026)
<a name="l00241"></a>00241                 printf(<span class="stringliteral">"%d RN: layer %d sending msg UP, src %d,  dst %d, %lf \n"</span>,
<a name="l00242"></a>00242                         (<span class="keywordtype">int</span>) l-&gt;id, 
<a name="l00243"></a>00243                         s-&gt;cur_layer + 1,
<a name="l00244"></a>00244                         (<span class="keywordtype">int</span>) new_event-&gt;src_lp-&gt;id,
<a name="l00245"></a>00245                         (<span class="keywordtype">int</span>) new_event-&gt;dest_lp-&gt;id,
<a name="l00246"></a>00246                         new_event-&gt;recv_ts);
<a name="l00247"></a>00247 <span class="preprocessor">#endif</span>
<a name="l00248"></a>00248 <span class="preprocessor"></span>
<a name="l00249"></a>00249                 (*l-&gt;type.event)
<a name="l00250"></a>00250                         (l-&gt;cur_state,
<a name="l00251"></a>00251                         &amp;new_event-&gt;cv,
<a name="l00252"></a>00252                         (<span class="keywordtype">void</span> *) rn_msg,
<a name="l00253"></a>00253                         new_event-&gt;dest_lp);
<a name="l00254"></a>00254 
<a name="l00255"></a>00255                 s-&gt;cur_layer++;
<a name="l00256"></a>00256                 state-&gt;cur_lp = &amp;s-&gt;layers[s-&gt;cur_layer].lp;
<a name="l00257"></a>00257                 state-&gt;l_stats.s_nevents_processed++;
<a name="l00258"></a>00258         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(rn_msg-&gt;type == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02193085e792a05c4538ec2bc24c845652">DOWNSTREAM</a> &amp;&amp; s-&gt;cur_layer &lt; s-&gt;nlayers - 1)
<a name="l00259"></a>00259         {
<a name="l00260"></a>00260                 s-&gt;cur_layer++;
<a name="l00261"></a>00261                 l = state-&gt;cur_lp = &amp;s-&gt;layers[s-&gt;cur_layer].lp;
<a name="l00262"></a>00262 
<a name="l00263"></a>00263                 <span class="keywordflow">if</span>(!l)
<a name="l00264"></a>00264                         tw_error(TW_LOC, <span class="stringliteral">"NO LP!"</span>);
<a name="l00265"></a>00265 
<a name="l00266"></a>00266 <span class="preprocessor">#if VERIFY_RN</span>
<a name="l00267"></a>00267 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(rn_msg-&gt;src == 338 &amp;&amp; rn_msg-&gt;dst == 8026)
<a name="l00268"></a>00268                 printf(<span class="stringliteral">"%d RN: layer %d sending msg DOWN, dst %d, ts %f \n"</span>,
<a name="l00269"></a>00269                         (<span class="keywordtype">int</span>) l-&gt;id, 
<a name="l00270"></a>00270                         (<span class="keywordtype">int</span>) s-&gt;cur_layer - 1,
<a name="l00271"></a>00271                         (<span class="keywordtype">int</span>) new_event-&gt;dest_lp-&gt;id,
<a name="l00272"></a>00272                         new_event-&gt;recv_ts);
<a name="l00273"></a>00273 <span class="preprocessor">#endif</span>
<a name="l00274"></a>00274 <span class="preprocessor"></span>
<a name="l00275"></a>00275                 (*l-&gt;type.event)
<a name="l00276"></a>00276                         (l-&gt;cur_state,
<a name="l00277"></a>00277                         &amp;new_event-&gt;cv,
<a name="l00278"></a>00278                         (<span class="keywordtype">void</span> *) rn_msg,
<a name="l00279"></a>00279                         new_event-&gt;src_lp);
<a name="l00280"></a>00280 
<a name="l00281"></a>00281                 <span class="comment">// Restore the cur_layer when this lvl of recursion is complete</span>
<a name="l00282"></a>00282                 s-&gt;cur_layer--;
<a name="l00283"></a>00283                 state-&gt;cev = NULL;
<a name="l00284"></a>00284                 state-&gt;cur_lp = &amp;s-&gt;layers[s-&gt;cur_layer].lp;
<a name="l00285"></a>00285                 state-&gt;l_stats.s_nevents_processed++;
<a name="l00286"></a>00286         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(rn_msg-&gt;type == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02193085e792a05c4538ec2bc24c845652">DOWNSTREAM</a>)
<a name="l00287"></a>00287         {
<a name="l00288"></a>00288                 <span class="comment">// Ok, so now we have reached the bottom of the stack and</span>
<a name="l00289"></a>00289                 <span class="comment">// can remove the event finally.</span>
<a name="l00290"></a>00290                 <span class="keywordflow">if</span>(new_event-&gt;src_lp-&gt;pe-&gt;cev_abort)
<a name="l00291"></a>00291                 {
<a name="l00292"></a>00292                         <span class="keywordflow">while</span>(NULL != (b = new_event-&gt;memory))
<a name="l00293"></a>00293                         {
<a name="l00294"></a>00294                                 new_event-&gt;memory = b-&gt;next;
<a name="l00295"></a>00295                                 tw_memory_alloc_rc(new_event-&gt;src_lp, b, (tw_fd) b-&gt;prev);
<a name="l00296"></a>00296                         }
<a name="l00297"></a>00297 
<a name="l00298"></a>00298                         <span class="keywordflow">return</span>;
<a name="l00299"></a>00299                 }
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 <span class="preprocessor">#if VERIFY_RN</span>
<a name="l00302"></a>00302 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(rn_msg-&gt;src == 338 &amp;&amp; rn_msg-&gt;dst == 8026)
<a name="l00303"></a>00303                 printf(<span class="stringliteral">"%d RN: Sending remote event (%d) from layer %d: %d -%f-&gt; %d \n"</span>,
<a name="l00304"></a>00304                                 (<span class="keywordtype">int</span>) new_event-&gt;src_lp-&gt;id,
<a name="l00305"></a>00305                                 (<span class="keywordtype">int</span>) new_event,
<a name="l00306"></a>00306                                 s-&gt;cur_layer,
<a name="l00307"></a>00307                                 (<span class="keywordtype">int</span>) new_event-&gt;src_lp-&gt;id,
<a name="l00308"></a>00308                                 new_event-&gt;recv_ts,
<a name="l00309"></a>00309                                 (<span class="keywordtype">int</span>) new_event-&gt;dest_lp-&gt;id);
<a name="l00310"></a>00310 <span class="preprocessor">#endif</span>
<a name="l00311"></a>00311 <span class="preprocessor"></span>                <span class="comment">/*</span>
<a name="l00312"></a>00312 <span class="comment">                 * This is where we would want to do things like fixing up </span>
<a name="l00313"></a>00313 <span class="comment">                 * the timestamp on the </span>
<a name="l00314"></a>00314 <span class="comment">                 * message, and the dest_lp pointer in the event.  We need to </span>
<a name="l00315"></a>00315 <span class="comment">                 * change the dest_lp appropriately in order to reflect </span>
<a name="l00316"></a>00316 <span class="comment">                 * the final destination considering the connection and/or nbr </span>
<a name="l00317"></a>00317 <span class="comment">                 */</span>
<a name="l00318"></a>00318                 rn_msg-&gt;type = <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02c7fd648c8ce81263fefd787373903e5c">UPSTREAM</a>;
<a name="l00319"></a>00319 
<a name="l00320"></a>00320                 m = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(new_event-&gt;src_lp-&gt;id);
<a name="l00321"></a>00321 
<a name="l00322"></a>00322                 <span class="keywordflow">if</span>(m-&gt;type == <a class="code" href="rn-types_8h.html#c37ecf88c448feb116c70fd006409a84c617d746aac95241491603aa946adccc">c_host</a>)
<a name="l00323"></a>00323                         new_event-&gt;dest_lp = (tw_lp *) m-&gt;link[0].addr; 
<a name="l00324"></a>00324 
<a name="l00325"></a>00325                 tw_event_send(new_event);
<a name="l00326"></a>00326                 state-&gt;cev = NULL;
<a name="l00327"></a>00327         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(rn_msg-&gt;type == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02c7fd648c8ce81263fefd787373903e5c">UPSTREAM</a>)
<a name="l00328"></a>00328         {
<a name="l00329"></a>00329                 tw_error(TW_LOC, <span class="stringliteral">"%lld: sending message up, top-most layer!? \n"</span>, 
<a name="l00330"></a>00330                                 new_event-&gt;src_lp-&gt;gid);
<a name="l00331"></a>00331         } <span class="keywordflow">else</span>
<a name="l00332"></a>00332         {
<a name="l00333"></a>00333                 tw_error(TW_LOC, <span class="stringliteral">"no send?"</span>);
<a name="l00334"></a>00334         }
<a name="l00335"></a>00335 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f0663f84c94e3b0f8e0b186e075ac451"></a><!-- doxytag: member="rn-extern.h::rn_ft_route_add" ref="f0663f84c94e3b0f8e0b186e075ac451" args="(tw_lp *lp, int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_ft_route_add           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This file contains all of the externable objects in rossnet. 
</div>
</div><p>
<a class="anchor" name="5fe23dcb9b26888bc14d50f6033e1b3e"></a><!-- doxytag: member="rn-extern.h::rn_ft_route_del" ref="5fe23dcb9b26888bc14d50f6033e1b3e" args="(tw_lp *lp, int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_ft_route_del           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d45bc39e5a89bce656786b571acb1ae8"></a><!-- doxytag: member="rn-extern.h::rn_getarea" ref="d45bc39e5a89bce656786b571acb1ae8" args="(rn_machine *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_area* rn_getarea           </td>
          <td>(</td>
          <td class="paramtype">rn_machine *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-machine_8c-source.html#l00022">22</a> of file <a class="el" href="rn-machine_8c-source.html">rn-machine.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-init_8c-source.html#l00070">bgp_init()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00042">bgp_keepalive()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00008">bgp_ospf_init()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00070">bgp_ospf_update()</a>, <a class="el" href="bgp-route_8c-source.html#l00073">bgp_route_add()</a>, <a class="el" href="bgp-route_8c-source.html#l00138">bgp_route_withdraw()</a>, <a class="el" href="bgp-xml_8c-source.html#l00006">bgp_xml()</a>, <a class="el" href="epi-xml_8c-source.html#l00008">epi_xml()</a>, <a class="el" href="ospf-lsa_8c-source.html#l00247">getlsa()</a>, <a class="el" href="ospf-lsa_8c-source.html#l00278">lsa_create()</a>, <a class="el" href="ospf-main_8c-source.html#l00120">main_setup_areas()</a>, <a class="el" href="ospf-database_8c-source.html#l00393">ospf_db_init()</a>, <a class="el" href="ospf-lsa_8c-source.html#l00527">ospf_lsa_create()</a>, <a class="el" href="ospf-neighbor-state_8c-source.html#l00114">ospf_nbr_exchange_done()</a>, <a class="el" href="ospf-neighbor-state_8c-source.html#l00178">ospf_nbr_inactivity_timer()</a>, <a class="el" href="ospf-neighbor-state_8c-source.html#l00011">ospf_nbr_reset()</a>, <a class="el" href="ospf-routing_8c-source.html#l00224">ospf_rt_print()</a>, <a class="el" href="ospf-routing_8c-source.html#l00029">ospf_rt_timer()</a>, <a class="el" href="ospf-router_8c-source.html#l00237">ospf_startup()</a>, <a class="el" href="ospf-xml_8c-source.html#l00004">ospf_xml()</a>, and <a class="el" href="rn-routing_8c-source.html#l00007">rn_route()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00023"></a>00023 {
<a name="l00024"></a>00024         <span class="keywordflow">return</span> m-&gt;subnet-&gt;area;
<a name="l00025"></a>00025 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d3b2637627bbb86acf01b38d07495042"></a><!-- doxytag: member="rn-extern.h::rn_getas" ref="d3b2637627bbb86acf01b38d07495042" args="(rn_machine *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_as* rn_getas           </td>
          <td>(</td>
          <td class="paramtype">rn_machine *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-machine_8c-source.html#l00028">28</a> of file <a class="el" href="rn-machine_8c-source.html">rn-machine.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-decision_8c-source.html#l00035">bgp_decision()</a>, <a class="el" href="bgp-stats_8c-source.html#l00004">bgp_final()</a>, <a class="el" href="bgp-init_8c-source.html#l00070">bgp_init()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00203">bgp_lsa_find()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00296">bgp_lsa_link_allocate()</a>, <a class="el" href="bgp-open_8c-source.html#l00048">bgp_open()</a>, <a class="el" href="bgp-open_8c-source.html#l00004">bgp_open_send()</a>, <a class="el" href="bgp-route_8c-source.html#l00360">bgp_rib_print()</a>, <a class="el" href="bgp-route_8c-source.html#l00073">bgp_route_add()</a>, <a class="el" href="bgp-route_8c-source.html#l00221">bgp_route_copy()</a>, <a class="el" href="bgp-route_8c-source.html#l00157">bgp_route_new()</a>, <a class="el" href="bgp-update_8c-source.html#l00264">bgp_update_all()</a>, <a class="el" href="bgp-update_8c-source.html#l00007">bgp_update_send()</a>, <a class="el" href="bgp-xml_8c-source.html#l00006">bgp_xml()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00156">deal_with_timed_out_routers()</a>, <a class="el" href="ospf-router_8c-source.html#l00037">ospf_event_handler()</a>, <a class="el" href="ospf-neighbor-state_8c-source.html#l00011">ospf_nbr_reset()</a>, <a class="el" href="ospf-xml_8c-source.html#l00004">ospf_xml()</a>, <a class="el" href="rn-routing_8c-source.html#l00007">rn_route()</a>, <a class="el" href="bgp-update_8c-source.html#l00135">update_add()</a>, and <a class="el" href="bgp-update_8c-source.html#l00229">update_withdraw()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00029"></a>00029 {
<a name="l00030"></a>00030         <span class="keywordflow">return</span> m-&gt;subnet-&gt;area-&gt;as;
<a name="l00031"></a>00031 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d7173e076af48912ba761e8ef0cc1b22"></a><!-- doxytag: member="rn-extern.h::rn_getlink" ref="d7173e076af48912ba761e8ef0cc1b22" args="(rn_machine *m, tw_lpid id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_link* rn_getlink           </td>
          <td>(</td>
          <td class="paramtype">rn_machine *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_lpid&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-link_8c-source.html#l00017">17</a> of file <a class="el" href="rn-link_8c-source.html">rn-link.c</a>.</p>

<p>References <a class="el" href="hash-quadratic_8c-source.html#l00122">rn_hash_fetch()</a>.</p>

<p>Referenced by <a class="el" href="bgp-connect_8c-source.html#l00013">bgp_connect()</a>, <a class="el" href="bgp-init_8c-source.html#l00070">bgp_init()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00203">bgp_lsa_find()</a>, <a class="el" href="bgp-route_8c-source.html#l00073">bgp_route_add()</a>, <a class="el" href="bgp-route_8c-source.html#l00221">bgp_route_copy()</a>, <a class="el" href="ip-downstream_8c-source.html#l00004">getroute()</a>, <a class="el" href="ip-routing_8c-source.html#l00009">ip_route()</a>, <a class="el" href="ospf-neighbor_8c-source.html#l00018">neighbor_init()</a>, <a class="el" href="ospf-lsa_8c-source.html#l00527">ospf_lsa_create()</a>, <a class="el" href="ospf-lsa_8c-source.html#l00076">ospf_lsa_find()</a>, <a class="el" href="ip-rc-downstream_8c-source.html#l00020">rc_getroute()</a>, <a class="el" href="rn_8c-source.html#l00235">rn_event_handler()</a>, <a class="el" href="rn-link_8c-source.html#l00051">rn_link_random_changes()</a>, <a class="el" href="xml-libxml_8c-source.html#l00153">rn_xml_link_topology()</a>, and <a class="el" href="bgp-update_8c-source.html#l00135">update_add()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00018"></a>00018 {
<a name="l00019"></a>00019 <span class="preprocessor">#if 0</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>        <span class="keywordtype">int</span>     i;
<a name="l00021"></a>00021 
<a name="l00022"></a>00022         <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;nlinks; i++)
<a name="l00023"></a>00023                 <span class="keywordflow">if</span>(m-&gt;link[i].addr == <span class="keywordtype">id</span>)
<a name="l00024"></a>00024                         <span class="keywordflow">return</span> &amp;m-&gt;link[i];
<a name="l00025"></a>00025 
<a name="l00026"></a>00026         <span class="keywordflow">return</span> NULL;
<a name="l00027"></a>00027 <span class="preprocessor">#else</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="hash-quadratic_8c.html#4156b94b0e4918e96f8c5d35e4cdb94c">rn_hash_fetch</a>(m-&gt;hash_link, <span class="keywordtype">id</span>);
<a name="l00029"></a>00029 <span class="preprocessor">#endif</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d1652b032f9c35a9e597ecaf97775d23"></a><!-- doxytag: member="rn-extern.h::rn_getlp" ref="d1652b032f9c35a9e597ecaf97775d23" args="(rn_lp_state *state, int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_lp* rn_getlp           </td>
          <td>(</td>
          <td class="paramtype">rn_lp_state *&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-lp_8c-source.html#l00018">18</a> of file <a class="el" href="rn-lp_8c-source.html">rn-lp.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00019"></a>00019 {
<a name="l00020"></a>00020         <span class="comment">//return &amp;state-&gt;layers[id];</span>
<a name="l00021"></a>00021         <span class="keywordflow">return</span> NULL;
<a name="l00022"></a>00022 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b586ebafc20ad652dd538635f5c816b0"></a><!-- doxytag: member="rn-extern.h::rn_getmachine" ref="b586ebafc20ad652dd538635f5c816b0" args="(tw_lpid id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_machine* rn_getmachine           </td>
          <td>(</td>
          <td class="paramtype">tw_lpid&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-machine_8c-source.html#l00004">4</a> of file <a class="el" href="rn-machine_8c-source.html">rn-machine.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00058">g_rn_machines</a>.</p>

<p>Referenced by <a class="el" href="bgp-decision_8c-source.html#l00035">bgp_decision()</a>, <a class="el" href="bgp-stats_8c-source.html#l00004">bgp_final()</a>, <a class="el" href="bgp-init_8c-source.html#l00070">bgp_init()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00042">bgp_keepalive()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00203">bgp_lsa_find()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00296">bgp_lsa_link_allocate()</a>, <a class="el" href="bgp-open_8c-source.html#l00048">bgp_open()</a>, <a class="el" href="bgp-open_8c-source.html#l00004">bgp_open_send()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00008">bgp_ospf_init()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00070">bgp_ospf_update()</a>, <a class="el" href="bgp-route_8c-source.html#l00360">bgp_rib_print()</a>, <a class="el" href="bgp-route_8c-source.html#l00073">bgp_route_add()</a>, <a class="el" href="bgp-route_8c-source.html#l00221">bgp_route_copy()</a>, <a class="el" href="bgp-route_8c-source.html#l00157">bgp_route_new()</a>, <a class="el" href="bgp-update_8c-source.html#l00264">bgp_update_all()</a>, <a class="el" href="bgp-update_8c-source.html#l00007">bgp_update_send()</a>, <a class="el" href="bgp-xml_8c-source.html#l00006">bgp_xml()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00156">deal_with_timed_out_routers()</a>, <a class="el" href="epi-xml_8c-source.html#l00008">epi_xml()</a>, <a class="el" href="ip-downstream_8c-source.html#l00004">getroute()</a>, <a class="el" href="ip_8c-source.html#l00025">ip_event_handler()</a>, <a class="el" href="ip_8c-source.html#l00007">ip_init()</a>, <a class="el" href="ospf-main_8c-source.html#l00120">main_setup_areas()</a>, <a class="el" href="ospf-neighbor_8c-source.html#l00018">neighbor_init()</a>, <a class="el" href="ospf-ip_8c-source.html#l00005">ospf_ip_route()</a>, <a class="el" href="ospf-lsa_8c-source.html#l00527">ospf_lsa_create()</a>, <a class="el" href="ospf-neighbor-state_8c-source.html#l00011">ospf_nbr_reset()</a>, <a class="el" href="ospf-routing_8c-source.html#l00404">ospf_routing_init()</a>, <a class="el" href="ospf-routing_8c-source.html#l00224">ospf_rt_print()</a>, <a class="el" href="ospf-routing_8c-source.html#l00029">ospf_rt_timer()</a>, <a class="el" href="ospf-router_8c-source.html#l00237">ospf_startup()</a>, <a class="el" href="ospf-xml_8c-source.html#l00004">ospf_xml()</a>, <a class="el" href="ip-rc-downstream_8c-source.html#l00020">rc_getroute()</a>, <a class="el" href="rn-event_8c-source.html#l00058">rn_event_new()</a>, <a class="el" href="rn-event_8c-source.html#l00173">rn_event_send()</a>, <a class="el" href="rn-link_8c-source.html#l00051">rn_link_random_changes()</a>, <a class="el" href="rn-link_8c-source.html#l00089">rn_link_random_weight_changes()</a>, <a class="el" href="rn-link_8c-source.html#l00004">rn_link_setwire()</a>, <a class="el" href="rn-routing_8c-source.html#l00007">rn_route()</a>, <a class="el" href="rn-setup_8c-source.html#l00164">rn_setup_links()</a>, <a class="el" href="rn-setup_8c-source.html#l00081">rn_setup_streams()</a>, <a class="el" href="rn_8c-source.html#l00169">rn_startup()</a>, <a class="el" href="xml-libxml_8c-source.html#l00153">rn_xml_link_topology()</a>, <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, <a class="el" href="ip-routing_8c-source.html#l00131">routing_init_ft_read()</a>, <a class="el" href="ip-routing_8c-source.html#l00178">routing_init_ft_write()</a>, <a class="el" href="ip-routing_8c-source.html#l00075">routing_write()</a>, <a class="el" href="tcp_8c-source.html#l00208">tcp_final()</a>, <a class="el" href="tcp_8c-source.html#l00080">tcp_init()</a>, <a class="el" href="tcp-layer_8c-source.html#l00011">tcp_layer_init()</a>, <a class="el" href="bgp-update_8c-source.html#l00135">update_add()</a>, <a class="el" href="bgp-update_8c-source.html#l00229">update_withdraw()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00226">xml_link_topology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00005"></a>00005 {
<a name="l00006"></a>00006         <span class="keywordflow">return</span> &amp;<a class="code" href="rn-extern_8h.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a>[id];
<a name="l00007"></a>00007 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="79d224fc0e16d1674eec421a623bd9c7"></a><!-- doxytag: member="rn-extern.h::rn_getstate" ref="79d224fc0e16d1674eec421a623bd9c7" args="(tw_lp *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rn_getstate           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-lp_8c-source.html#l00004">4</a> of file <a class="el" href="rn-lp_8c-source.html">rn-lp.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00005"></a>00005 {
<a name="l00006"></a>00006 <span class="preprocessor">#if 0</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>        rn_lp_state *me;
<a name="l00008"></a>00008 
<a name="l00009"></a>00009         me = (rn_lp_state *) lp-&gt;cur_state;
<a name="l00010"></a>00010 
<a name="l00011"></a>00011         <span class="keywordflow">return</span> me-&gt;lp_list[me-&gt;cur_layer].cur_state;
<a name="l00012"></a>00012 #endif
<a name="l00013"></a>00013 
<a name="l00014"></a>00014         <span class="keywordflow">return</span> NULL;
<a name="l00015"></a>00015 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="af86a65184f40426de1361196ef45cef"></a><!-- doxytag: member="rn-extern.h::rn_getstream" ref="af86a65184f40426de1361196ef45cef" args="(tw_lp *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_stream* rn_getstream           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-stream_8c-source.html#l00023">23</a> of file <a class="el" href="rn-stream_8c-source.html">rn-stream.c</a>.</p>

<p>References <a class="el" href="ospf-global_8c-source.html#l00030">s</a>.</p>

<p>Referenced by <a class="el" href="rn-event_8c-source.html#l00008">rn_event_direct()</a>, <a class="el" href="rn-event_8c-source.html#l00058">rn_event_new()</a>, <a class="el" href="rn-event_8c-source.html#l00173">rn_event_send()</a>, <a class="el" href="rn-timer_8c-source.html#l00030">rn_timer_init()</a>, and <a class="el" href="rn-timer_8c-source.html#l00004">rn_timer_simple()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00024"></a>00024 {
<a name="l00025"></a>00025         rn_lp_state     *state;
<a name="l00026"></a>00026         rn_stream       *<a class="code" href="ospf-extern_8h.html#b4c6c03359486e6fb0ac52a94493df1e">s</a>;
<a name="l00027"></a>00027 
<a name="l00028"></a>00028         state = (rn_lp_state *) lp-&gt;cur_state;
<a name="l00029"></a>00029         s = &amp;state-&gt;streams[state-&gt;cur_stream];
<a name="l00030"></a>00030 
<a name="l00031"></a>00031         <span class="keywordflow">if</span>(!s)
<a name="l00032"></a>00032                 tw_error(TW_LOC, <span class="stringliteral">"Could not get stream from lp %d!"</span>, lp-&gt;id);
<a name="l00033"></a>00033 
<a name="l00034"></a>00034         <span class="keywordflow">return</span> s;
<a name="l00035"></a>00035 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="70fa5882507af4b8bd22a59ab93cfa30"></a><!-- doxytag: member="rn-extern.h::rn_getstream_byport" ref="70fa5882507af4b8bd22a59ab93cfa30" args="(rn_lp_state *state, tw_lpid port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_stream* rn_getstream_byport           </td>
          <td>(</td>
          <td class="paramtype">rn_lp_state *&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_lpid&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-stream_8c-source.html#l00004">4</a> of file <a class="el" href="rn-stream_8c-source.html">rn-stream.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-ospf_8c-source.html#l00008">bgp_ospf_init()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00070">bgp_ospf_update()</a>, <a class="el" href="rn_8c-source.html#l00235">rn_event_handler()</a>, <a class="el" href="rn-event_8c-source.html#l00173">rn_event_send()</a>, and <a class="el" href="rn_8c-source.html#l00401">rn_rc_event_handler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00005"></a>00005 {
<a name="l00006"></a>00006         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    i;
<a name="l00007"></a>00007 
<a name="l00008"></a>00008         <span class="keywordflow">for</span>(i = 0; i &lt; state-&gt;nstreams; i++)
<a name="l00009"></a>00009         {
<a name="l00010"></a>00010                 <span class="keywordflow">if</span>(state-&gt;streams[i].port == port)
<a name="l00011"></a>00011                 {
<a name="l00012"></a>00012                         state-&gt;cur_stream = i;
<a name="l00013"></a>00013                         <span class="keywordflow">return</span> &amp;state-&gt;streams[i];
<a name="l00014"></a>00014                 }
<a name="l00015"></a>00015         }
<a name="l00016"></a>00016 
<a name="l00017"></a>00017         <span class="comment">//tw_error(TW_LOC, "Unable to find stream port %d!", port);</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019         <span class="keywordflow">return</span> state-&gt;streams;
<a name="l00020"></a>00020 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e6bc1db7b315ebbf760fac910a9dd2fa"></a><!-- doxytag: member="rn-extern.h::rn_getsubnet" ref="e6bc1db7b315ebbf760fac910a9dd2fa" args="(rn_machine *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_subnet* rn_getsubnet           </td>
          <td>(</td>
          <td class="paramtype">rn_machine *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-machine_8c-source.html#l00016">16</a> of file <a class="el" href="rn-machine_8c-source.html">rn-machine.c</a>.</p>

<p>Referenced by <a class="el" href="epi-xml_8c-source.html#l00008">epi_xml()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00017"></a>00017 {
<a name="l00018"></a>00018         <span class="keywordflow">return</span> m-&gt;subnet;
<a name="l00019"></a>00019 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="53249b37b398d1ca13ac07ccfa71695c"></a><!-- doxytag: member="rn-extern.h::rn_hash_create" ref="53249b37b398d1ca13ac07ccfa71695c" args="(unsigned int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rn_hash_create           </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>int</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="hash-quadratic_8c-source.html#l00031">31</a> of file <a class="el" href="hash-quadratic_8c-source.html">hash-quadratic.c</a>.</p>

<p>References <a class="el" href="hash-quadratic_8c-source.html#l00025">rn_allocate_table()</a>, <a class="el" href="hash-quadratic_8c-source.html#l00186">rn_is_prime()</a>, <a class="el" href="hash-quadratic_8c-source.html#l00009">RN_MAX_FRACTION</a>, and <a class="el" href="hash-quadratic_8c-source.html#l00165">rn_next_prime()</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00032"></a>00032 {
<a name="l00033"></a>00033         rn_hash                 *h;
<a name="l00034"></a>00034         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>             size;
<a name="l00035"></a>00035 
<a name="l00036"></a>00036         h = (rn_hash *) tw_calloc(TW_LOC, <span class="stringliteral">""</span>, <span class="keyword">sizeof</span>(rn_hash), 1);
<a name="l00037"></a>00037 
<a name="l00038"></a>00038         <span class="keywordflow">if</span> (!h)
<a name="l00039"></a>00039                 tw_error(TW_LOC, <span class="stringliteral">"Cannot rn_allocate rn_hash."</span>);
<a name="l00040"></a>00040 
<a name="l00041"></a>00041         <span class="comment">//h-&gt;storage = (rn_link **) tw_calloc(TW_LOC, "", sizeof(rn_link *), 1);</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043         size = sz;
<a name="l00044"></a>00044         <span class="keywordflow">if</span>(!<a class="code" href="hash-quadratic_8c.html#f9bbc317efbe3e8618f0216d5ad2e950">rn_is_prime</a>(sz) || sz == 1)
<a name="l00045"></a>00045                 size = <a class="code" href="hash-quadratic_8c.html#f168e3f2be9fcc2399e085a1c3f88675">rn_next_prime</a>(sz);
<a name="l00046"></a>00046 
<a name="l00047"></a>00047         <span class="keywordflow">while</span>(sz &gt; floor(size * <a class="code" href="hash-quadratic_8c.html#df1083351e69cf50fd33cfc34b97d693">RN_MAX_FRACTION</a>))
<a name="l00048"></a>00048                 size = <a class="code" href="hash-quadratic_8c.html#f168e3f2be9fcc2399e085a1c3f88675">rn_next_prime</a>(size);
<a name="l00049"></a>00049 
<a name="l00050"></a>00050         h-&gt;nstored = 0;
<a name="l00051"></a>00051         h-&gt;capacity = size;
<a name="l00052"></a>00052         h-&gt;storage = <a class="code" href="hash-quadratic_8c.html#9615ae7d0a8e626f1830c42b59ec0ad9">rn_allocate_table</a>(h-&gt;capacity);
<a name="l00053"></a>00053 
<a name="l00054"></a>00054         <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)h;
<a name="l00055"></a>00055 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4156b94b0e4918e96f8c5d35e4cdb94c"></a><!-- doxytag: member="rn-extern.h::rn_hash_fetch" ref="4156b94b0e4918e96f8c5d35e4cdb94c" args="(void *h, int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_link* rn_hash_fetch           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="hash-quadratic_8c-source.html#l00122">122</a> of file <a class="el" href="hash-quadratic_8c-source.html">hash-quadratic.c</a>.</p>

<p>References <a class="el" href="hash-quadratic_8c-source.html#l00100">rn_find_entry()</a>.</p>

<p>Referenced by <a class="el" href="rn-link_8c-source.html#l00017">rn_getlink()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00123"></a>00123 {
<a name="l00124"></a>00124         rn_hash         *hash_t = (rn_hash *) h;
<a name="l00125"></a>00125         rn_link         *ret_event;
<a name="l00126"></a>00126         <span class="keywordtype">int</span>              key;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         key = <a class="code" href="hash-quadratic_8c.html#c79a2215f17d42b01d66a2b4c1ac9ea6">rn_find_entry</a>(hash_t-&gt;storage, <span class="keywordtype">id</span>, hash_t-&gt;capacity);
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         <span class="keywordflow">if</span>(-1 == key)
<a name="l00131"></a>00131                 <span class="keywordflow">return</span> NULL;
<a name="l00132"></a>00132 
<a name="l00133"></a>00133         ret_event = hash_t-&gt;storage[key];
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="preprocessor">#if 0</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (!ret_event || ret_event-&gt;recv_ts != event-&gt;recv_ts || ret_event-&gt;seq_num != event-&gt;seq_num)
<a name="l00137"></a>00137                 tw_error(TW_LOC, <span class="stringliteral">"Could not find correct event in hash_table."</span>);
<a name="l00138"></a>00138 <span class="preprocessor">#endif</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span>
<a name="l00140"></a>00140         <span class="keywordflow">return</span> ret_event;
<a name="l00141"></a>00141 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2620ab4920ffc4d1a13a2dc3aa6b4339"></a><!-- doxytag: member="rn-extern.h::rn_hash_insert" ref="2620ab4920ffc4d1a13a2dc3aa6b4339" args="(void *h, rn_link *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_hash_insert           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rn_link *&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="hash-quadratic_8c-source.html#l00067">67</a> of file <a class="el" href="hash-quadratic_8c-source.html">hash-quadratic.c</a>.</p>

<p>References <a class="el" href="hash-quadratic_8c-source.html#l00058">h_insert()</a>, and <a class="el" href="hash-quadratic_8c-source.html#l00009">RN_MAX_FRACTION</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00226">xml_link_topology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00068"></a>00068 {
<a name="l00069"></a>00069         rn_hash        *hash_t;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         hash_t = (rn_hash *) h;
<a name="l00072"></a>00072 
<a name="l00073"></a>00073         <a class="code" href="hash-quadratic_8c.html#f18caa2338123765fdfb41eadfe17a9b">h_insert</a>(hash_t-&gt;storage, event, hash_t-&gt;capacity);
<a name="l00074"></a>00074         hash_t-&gt;nstored++;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <span class="keywordflow">if</span>(hash_t-&gt;nstored &gt; floor(hash_t-&gt;capacity * <a class="code" href="hash-quadratic_8c.html#df1083351e69cf50fd33cfc34b97d693">RN_MAX_FRACTION</a>))
<a name="l00077"></a>00077                 tw_error(TW_LOC, <span class="stringliteral">"Inserted beyond RN_MAX_FRACTION!"</span>);
<a name="l00078"></a>00078 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7f9d4f4a632e20238fc19af8afee1727"></a><!-- doxytag: member="rn-extern.h::rn_hash_remove" ref="7f9d4f4a632e20238fc19af8afee1727" args="(void *h, rn_link *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_link* rn_hash_remove           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rn_link *&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="hash-quadratic_8c-source.html#l00144">144</a> of file <a class="el" href="hash-quadratic_8c-source.html">hash-quadratic.c</a>.</p>

<p>References <a class="el" href="hash-quadratic_8c-source.html#l00100">rn_find_entry()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00145"></a>00145 {
<a name="l00146"></a>00146         rn_hash        *hash_t = (rn_hash *) h;
<a name="l00147"></a>00147         rn_link       *ret_event;
<a name="l00148"></a>00148         <span class="keywordtype">int</span>             key;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150         key = <a class="code" href="hash-quadratic_8c.html#c79a2215f17d42b01d66a2b4c1ac9ea6">rn_find_entry</a>(hash_t-&gt;storage, event-&gt;addr, hash_t-&gt;capacity);
<a name="l00151"></a>00151         ret_event = hash_t-&gt;storage[key];
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 <span class="preprocessor">#if 0</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (!ret_event || ret_event-&gt;recv_ts != event-&gt;recv_ts || ret_event-&gt;seq_num != event-&gt;seq_num)
<a name="l00155"></a>00155                 tw_error(TW_LOC, <span class="stringliteral">"Could not find correct event in hash_table."</span>);
<a name="l00156"></a>00156 <span class="preprocessor">#endif</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span>
<a name="l00158"></a>00158         hash_t-&gt;storage[key] = NULL;
<a name="l00159"></a>00159         hash_t-&gt;nstored--;
<a name="l00160"></a>00160 
<a name="l00161"></a>00161         <span class="keywordflow">return</span> ret_event;
<a name="l00162"></a>00162 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b2e46cf163459a38075f59cf737c529f"></a><!-- doxytag: member="rn-extern.h::rn_init" ref="b2e46cf163459a38075f59cf737c529f" args="(rn_lptype *types)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rn_init           </td>
          <td>(</td>
          <td class="paramtype">rn_lptype *&nbsp;</td>
          <td class="paramname"> <em>types</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-init_8c-source.html#l00055">55</a> of file <a class="el" href="rn-init_8c-source.html">rn-init.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00100">g_rn_barrier</a>, <a class="el" href="rn-global_8c-source.html#l00101">g_rn_layer_lck</a>, <a class="el" href="rn-global_8c-source.html#l00065">g_rn_layers</a>, <a class="el" href="rn-global_8c-source.html#l00064">g_rn_nlayers</a>, <a class="el" href="rn-global_8c-source.html#l00060">g_rn_nstreams</a>, <a class="el" href="rn-global_8c-source.html#l00102">g_rn_stream_lck</a>, and <a class="el" href="rn-global_8c-source.html#l00061">g_rn_streams</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00056"></a>00056 {
<a name="l00057"></a>00057         <span class="comment">/*</span>
<a name="l00058"></a>00058 <span class="comment">         * Construct the STREAM array.</span>
<a name="l00059"></a>00059 <span class="comment">         */</span>
<a name="l00060"></a>00060         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#b98149ec75dce4cb706da065bc57d27f">g_rn_nstreams</a>)
<a name="l00061"></a>00061         {
<a name="l00062"></a>00062                 <a class="code" href="rn-extern_8h.html#23edd0fd73827e4194341e6b07f5efb0">g_rn_streams</a> = (rn_stream *) tw_calloc(TW_LOC, <span class="stringliteral">""</span>, <span class="keyword">sizeof</span>(rn_stream) * <a class="code" href="rn-extern_8h.html#b98149ec75dce4cb706da065bc57d27f">g_rn_nstreams</a>, 1);
<a name="l00063"></a>00063 
<a name="l00064"></a>00064                 <span class="keywordflow">if</span>(!<a class="code" href="rn-extern_8h.html#23edd0fd73827e4194341e6b07f5efb0">g_rn_streams</a>)
<a name="l00065"></a>00065                         tw_error(TW_LOC, <span class="stringliteral">"Could not allocate stream memory!"</span>);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067                 <span class="comment">//tw_printf(TW_LOC, "Created %d streams. \n", g_rn_nstreams);</span>
<a name="l00068"></a>00068         } <span class="keywordflow">else</span>
<a name="l00069"></a>00069                 tw_error(TW_LOC, <span class="stringliteral">"No streams found to init!"</span>);
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         <span class="comment">/*</span>
<a name="l00072"></a>00072 <span class="comment">         * Construct the LAYER array</span>
<a name="l00073"></a>00073 <span class="comment">         */</span>
<a name="l00074"></a>00074         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#935d14a7cca164ca547f89596a675511">g_rn_nlayers</a>)
<a name="l00075"></a>00075         {
<a name="l00076"></a>00076                 <a class="code" href="rn-extern_8h.html#111555df5ca6d0bfb0ada1a6e9f2b7fc">g_rn_layers</a> = (rn_layer *) tw_calloc(TW_LOC, <span class="stringliteral">""</span>, <span class="keyword">sizeof</span>(rn_layer) * <a class="code" href="rn-extern_8h.html#935d14a7cca164ca547f89596a675511">g_rn_nlayers</a>, 1);
<a name="l00077"></a>00077 
<a name="l00078"></a>00078                 <span class="keywordflow">if</span>(!<a class="code" href="rn-extern_8h.html#111555df5ca6d0bfb0ada1a6e9f2b7fc">g_rn_layers</a>)
<a name="l00079"></a>00079                         tw_error(TW_LOC, <span class="stringliteral">"Could not init layers!"</span>);
<a name="l00080"></a>00080 
<a name="l00081"></a>00081                 <span class="comment">//tw_printf(TW_LOC, "Created %d layers. \n", g_rn_nlayers);</span>
<a name="l00082"></a>00082 
<a name="l00083"></a>00083         } <span class="keywordflow">else</span>
<a name="l00084"></a>00084                 tw_error(TW_LOC, <span class="stringliteral">"No layers found to init!"</span>);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086         <span class="comment">/* setup locks and barriers */</span>
<a name="l00087"></a>00087         tw_barrier_create(&amp;<a class="code" href="rn-extern_8h.html#fc24f4e05a9f4d5cdcab736a00af995c">g_rn_barrier</a>);
<a name="l00088"></a>00088         tw_mutex_create(&amp;<a class="code" href="rn-extern_8h.html#f2dad8c4f8bab4b8b1ab48751b65ebd0">g_rn_layer_lck</a>);
<a name="l00089"></a>00089         tw_mutex_create(&amp;<a class="code" href="rn-extern_8h.html#f352e8afc1578ec4cddee3bdab4ae52d">g_rn_stream_lck</a>);
<a name="l00090"></a>00090 
<a name="l00091"></a>00091         <span class="keywordflow">return</span> 1;
<a name="l00092"></a>00092 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9e98b18d569af83029c135fb33b927a7"></a><!-- doxytag: member="rn-extern.h::rn_init_lps" ref="9e98b18d569af83029c135fb33b927a7" args="(rn_lptype *types)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_init_lps           </td>
          <td>(</td>
          <td class="paramtype">rn_lptype *&nbsp;</td>
          <td class="paramname"> <em>types</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-init_8c-source.html#l00095">95</a> of file <a class="el" href="rn-init_8c-source.html">rn-init.c</a>.</p>

<p>References <a class="el" href="rn-setup_8c-source.html#l00081">rn_setup_streams()</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00096"></a>00096 {
<a name="l00097"></a>00097         tw_lp           *lp;
<a name="l00098"></a>00098         tw_lp           *prev_lp;
<a name="l00099"></a>00099         <span class="comment">//tw_lptype     *t;</span>
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <span class="keywordtype">int</span>              i;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103         lp = NULL;
<a name="l00104"></a>00104         prev_lp = NULL;
<a name="l00105"></a>00105         <span class="keywordflow">for</span>(i = 0; i &lt; g_tw_nlp; i++, prev_lp = NULL)
<a name="l00106"></a>00106         {
<a name="l00107"></a>00107                 lp = tw_getlp(i);
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="preprocessor">#if 0</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span>                t = tw_lp_gettype(lp);
<a name="l00111"></a>00111                 <span class="keywordflow">if</span> (t &amp;&amp; t-&gt;name)
<a name="l00112"></a>00112                         memcpy(&amp;lp-&gt;type, t, <span class="keyword">sizeof</span>(*t));
<a name="l00113"></a>00113                 <span class="keywordflow">else</span>
<a name="l00114"></a>00114                         tw_error(TW_LOC, <span class="stringliteral">"No type defined for LP %i\n"</span>, lp-&gt;id);
<a name="l00115"></a>00115 <span class="preprocessor">#endif</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>
<a name="l00117"></a>00117                 lp-&gt;state_qh = NULL;
<a name="l00118"></a>00118 
<a name="l00119"></a>00119                 <span class="comment">/*</span>
<a name="l00120"></a>00120 <span class="comment">                 * Allocate initial state vectors for this LP, and</span>
<a name="l00121"></a>00121 <span class="comment">                 * steal one of them for the initial state to be</span>
<a name="l00122"></a>00122 <span class="comment">                 * handed to the init function.</span>
<a name="l00123"></a>00123 <span class="comment">                 */</span>
<a name="l00124"></a>00124                 <span class="keywordflow">if</span> (lp-&gt;type.revent)
<a name="l00125"></a>00125                         tw_state_alloc(lp, 1);
<a name="l00126"></a>00126                 <span class="keywordflow">else</span>
<a name="l00127"></a>00127                         tw_state_alloc(lp, g_tw_sv_growcnt + 1);
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <span class="comment">/*</span>
<a name="l00130"></a>00130 <span class="comment">                lp-&gt;cur_state = lp-&gt;state_qh;</span>
<a name="l00131"></a>00131 <span class="comment">                lp-&gt;state_qh = lp-&gt;state_qh-&gt;next;</span>
<a name="l00132"></a>00132 <span class="comment">*/</span>
<a name="l00133"></a>00133 
<a name="l00134"></a>00134                 <span class="comment">/*</span>
<a name="l00135"></a>00135 <span class="comment">                 * Invoke LP XML init routine</span>
<a name="l00136"></a>00136 <span class="comment">                 */</span>
<a name="l00137"></a>00137                 <a class="code" href="rn-extern_8h.html#a5d6cfc1c375989af881be30c9954912">rn_setup_streams</a>(lp-&gt;cur_state, types, lp);
<a name="l00138"></a>00138         }
<a name="l00139"></a>00139 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4438dd265d78376bba11255a72ae3ab6"></a><!-- doxytag: member="rn-extern.h::rn_init_streams" ref="4438dd265d78376bba11255a72ae3ab6" args="(rn_lp_state *state, tw_lp *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_init_streams           </td>
          <td>(</td>
          <td class="paramtype">rn_lp_state *&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function calls the INIT routines of the star model layers 
<p>Definition at line <a class="el" href="rn-init_8c-source.html#l00008">8</a> of file <a class="el" href="rn-init_8c-source.html">rn-init.c</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00169">rn_startup()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00009"></a>00009 {
<a name="l00010"></a>00010         tw_lp                   *layer_lp;
<a name="l00011"></a>00011 
<a name="l00012"></a>00012         rn_layer                *layer;
<a name="l00013"></a>00013         rn_stream               *stream;
<a name="l00014"></a>00014 
<a name="l00015"></a>00015         <span class="keywordtype">int</span>                      i;
<a name="l00016"></a>00016         <span class="keywordtype">int</span>                      j;
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#if RN_VERIFY_SETUP</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>        printf(<span class="stringliteral">"INIT star model for node: %lld, nstreams %d\n"</span>,
<a name="l00020"></a>00020                 lp-&gt;gid, state-&gt;nstreams);
<a name="l00021"></a>00021 <span class="preprocessor">#endif</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023         stream = state-&gt;streams;
<a name="l00024"></a>00024         <span class="keywordflow">for</span>(i = 0; i &lt; state-&gt;nstreams; stream = &amp;state-&gt;streams[++i])
<a name="l00025"></a>00025         {
<a name="l00026"></a>00026 <span class="preprocessor">#if RN_VERIFY_SETUP</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>                printf(<span class="stringliteral">"\tstream port: %d, nlayers %d \n"</span>, 
<a name="l00028"></a>00028                         stream-&gt;port, stream-&gt;nlayers);
<a name="l00029"></a>00029 <span class="preprocessor">#endif</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031                 <span class="comment">/*</span>
<a name="l00032"></a>00032 <span class="comment">                 * Setup the stream layers</span>
<a name="l00033"></a>00033 <span class="comment">                 */</span>
<a name="l00034"></a>00034                 layer = &amp;stream-&gt;layers[stream-&gt;nlayers - 1];
<a name="l00035"></a>00035                 <span class="keywordflow">for</span>(j = stream-&gt;nlayers - 1; j &gt;= 0; layer = &amp;stream-&gt;layers[--j])
<a name="l00036"></a>00036                 {
<a name="l00037"></a>00037                         layer_lp = &amp;layer-&gt;lp;
<a name="l00038"></a>00038 
<a name="l00039"></a>00039                         state-&gt;cur_lp = layer_lp;
<a name="l00040"></a>00040                         state-&gt;cur_stream = i;
<a name="l00041"></a>00041                         stream-&gt;cur_layer = j;
<a name="l00042"></a>00042 
<a name="l00043"></a>00043                         <span class="comment">/*</span>
<a name="l00044"></a>00044 <span class="comment">                         * Layer LP INIT function call</span>
<a name="l00045"></a>00045 <span class="comment">                         */</span>
<a name="l00046"></a>00046                         <span class="keywordflow">if</span>(layer_lp-&gt;type.init)
<a name="l00047"></a>00047                                 (*(init_f)layer_lp-&gt;type.init) (layer_lp-&gt;cur_state, lp);
<a name="l00048"></a>00048                         <span class="keywordflow">else</span>
<a name="l00049"></a>00049                                 tw_error(TW_LOC, <span class="stringliteral">"No init routine: LP %d!"</span>, lp-&gt;id);
<a name="l00050"></a>00050                 }
<a name="l00051"></a>00051         }
<a name="l00052"></a>00052 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b0a7da4becc0ae7d53909eea87a8316a"></a><!-- doxytag: member="rn-extern.h::rn_layer_alloc" ref="b0a7da4becc0ae7d53909eea87a8316a" args="(unsigned int nlayers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_layer* rn_layer_alloc           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>nlayers</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function allocates the layers to the rn_lps during the rn_startup phase, which is multi-threaded 
<p>Definition at line <a class="el" href="rn-layer_8c-source.html#l00008">8</a> of file <a class="el" href="rn-layer_8c-source.html">rn-layer.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00101">g_rn_layer_lck</a>, <a class="el" href="rn-global_8c-source.html#l00065">g_rn_layers</a>, <a class="el" href="rn-global_8c-source.html#l00066">g_rn_nextlayer</a>, and <a class="el" href="phold_8h-source.html#l00032">nlp</a>.</p>

<p>Referenced by <a class="el" href="rn-setup_8c-source.html#l00081">rn_setup_streams()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00009"></a>00009 {
<a name="l00010"></a>00010         rn_layer        *layer;
<a name="l00011"></a>00011 
<a name="l00012"></a>00012         tw_mutex_lock(&amp;<a class="code" href="rn-extern_8h.html#f2dad8c4f8bab4b8b1ab48751b65ebd0">g_rn_layer_lck</a>);
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#if RN_VERIFY_LP</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(nlayers &gt; 1)
<a name="l00016"></a>00016                 printf(<span class="stringliteral">"Allocating layers: %d to %d \n"</span>, <a class="code" href="rn-extern_8h.html#4bb80f1674984b5980c132a686cb0e0a">g_rn_nextlayer</a>, (<a class="code" href="rn-extern_8h.html#4bb80f1674984b5980c132a686cb0e0a">g_rn_nextlayer</a> + nlayers - 1));
<a name="l00017"></a>00017         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="phold_8h.html#2933750331a9ed4ee06ecf3c8ca12166">nlp</a> == 1)
<a name="l00018"></a>00018                 printf(<span class="stringliteral">"Allocating layer: %d \n"</span>, <a class="code" href="rn-extern_8h.html#4bb80f1674984b5980c132a686cb0e0a">g_rn_nextlayer</a>);
<a name="l00019"></a>00019         <span class="keywordflow">else</span>
<a name="l00020"></a>00020                 tw_error(TW_LOC, <span class="stringliteral">"Trying to allocate %d layers!"</span>, nlayers);
<a name="l00021"></a>00021 <span class="preprocessor">#endif</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023         layer = &amp;<a class="code" href="rn-extern_8h.html#111555df5ca6d0bfb0ada1a6e9f2b7fc">g_rn_layers</a>[<a class="code" href="rn-extern_8h.html#4bb80f1674984b5980c132a686cb0e0a">g_rn_nextlayer</a>];
<a name="l00024"></a>00024         <a class="code" href="rn-extern_8h.html#4bb80f1674984b5980c132a686cb0e0a">g_rn_nextlayer</a> += nlayers;
<a name="l00025"></a>00025 
<a name="l00026"></a>00026         tw_mutex_unlock(&amp;<a class="code" href="rn-extern_8h.html#f2dad8c4f8bab4b8b1ab48751b65ebd0">g_rn_layer_lck</a>);
<a name="l00027"></a>00027 
<a name="l00028"></a>00028         <span class="keywordflow">return</span> layer;
<a name="l00029"></a>00029 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="6c557039fb9044b6a1674744fe3adb06"></a><!-- doxytag: member="rn-extern.h::rn_link_getstatus" ref="6c557039fb9044b6a1674744fe3adb06" args="(rn_link *l, tw_stime ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rn-types_8h.html#395ffa7364b7a445ecf4336e81c475b6">rn_link_status</a> rn_link_getstatus           </td>
          <td>(</td>
          <td class="paramtype">rn_link *&nbsp;</td>
          <td class="paramname"> <em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_stime&nbsp;</td>
          <td class="paramname"> <em>ts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-link_8c-source.html#l00033">33</a> of file <a class="el" href="rn-link_8c-source.html">rn-link.c</a>.</p>

<p>References <a class="el" href="rn-types_8h-source.html#l00068">rn_link_down</a>, and <a class="el" href="rn-types_8h-source.html#l00067">rn_link_up</a>.</p>

<p>Referenced by <a class="el" href="rn-event_8c-source.html#l00058">rn_event_new()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00034"></a>00034 {
<a name="l00035"></a>00035         <span class="keywordflow">if</span>(!l)
<a name="l00036"></a>00036                 tw_error(TW_LOC, <span class="stringliteral">"No link!"</span>);
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="preprocessor">#if DYNAMIC_LINKS</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span>        <span class="keywordflow">if</span>((l-&gt;status == <a class="code" href="rn-types_8h.html#2d0a8ea9d30165ab589bd3431b19a80929bbbd97ec459362182b9056bd79054a">rn_link_down</a> &amp;&amp; ts &lt; l-&gt;next_status) ||
<a name="l00040"></a>00040            (l-&gt;status == <a class="code" href="rn-types_8h.html#2d0a8ea9d30165ab589bd3431b19a809e6ca115d8025eff150e273e71d7c090e">rn_link_up</a> &amp;&amp; ts &gt;= l-&gt;next_status))
<a name="l00041"></a>00041                 <span class="keywordflow">return</span> <a class="code" href="rn-types_8h.html#2d0a8ea9d30165ab589bd3431b19a80929bbbd97ec459362182b9056bd79054a">rn_link_down</a>;
<a name="l00042"></a>00042 <span class="preprocessor">#endif</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044         <span class="keywordflow">return</span> <a class="code" href="rn-types_8h.html#2d0a8ea9d30165ab589bd3431b19a809e6ca115d8025eff150e273e71d7c090e">rn_link_up</a>;
<a name="l00045"></a>00045 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0b32d1af0df462436992bd20d9f3754c"></a><!-- doxytag: member="rn-extern.h::rn_link_getwire" ref="0b32d1af0df462436992bd20d9f3754c" args="(rn_link *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_machine* rn_link_getwire           </td>
          <td>(</td>
          <td class="paramtype">rn_link *&nbsp;</td>
          <td class="paramname"> <em>l</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-link_8c-source.html#l00011">11</a> of file <a class="el" href="rn-link_8c-source.html">rn-link.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00012"></a>00012 {
<a name="l00013"></a>00013         <span class="keywordflow">return</span> l-&gt;wire;
<a name="l00014"></a>00014 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c949bb2e84a12ba2e72ad16eaabd0737"></a><!-- doxytag: member="rn-extern.h::rn_link_random_changes" ref="c949bb2e84a12ba2e72ad16eaabd0737" args="(tw_lp *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_link_random_changes           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-link_8c-source.html#l00051">51</a> of file <a class="el" href="rn-link_8c-source.html">rn-link.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00003">g_rn_link_prob</a>, <a class="el" href="rn-link_8c-source.html#l00017">rn_getlink()</a>, and <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00052"></a>00052 {
<a name="l00053"></a>00053 <span class="preprocessor">#if DYNAMIC_LINKS</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>        rn_machine      *m;
<a name="l00055"></a>00055         rn_link         *l;
<a name="l00056"></a>00056         rn_link         *ol;
<a name="l00057"></a>00057 
<a name="l00058"></a>00058         <span class="keywordtype">int</span>              percent;
<a name="l00059"></a>00059         <span class="keywordtype">int</span>              i;
<a name="l00060"></a>00060 
<a name="l00061"></a>00061         m = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(lp-&gt;id);
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;nlinks; i++)
<a name="l00064"></a>00064         {
<a name="l00065"></a>00065                 l = &amp;m-&gt;link[i];
<a name="l00066"></a>00066         
<a name="l00067"></a>00067                 <span class="keywordflow">if</span>(l-&gt;next_status != INT_MAX)
<a name="l00068"></a>00068                         <span class="keywordflow">continue</span>;
<a name="l00069"></a>00069         
<a name="l00070"></a>00070                 percent = tw_rand_integer(lp-&gt;id, 0, 100);
<a name="l00071"></a>00071 
<a name="l00072"></a>00072                 <span class="keywordflow">if</span>(percent &gt; <a class="code" href="rn-extern_8h.html#827667617ac3f5b6c168ec177fe72cf1">g_rn_link_prob</a> + 1)
<a name="l00073"></a>00073                         <span class="keywordflow">return</span>;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075                 ol = <a class="code" href="rn-extern_8h.html#d7173e076af48912ba761e8ef0cc1b22">rn_getlink</a>(l-&gt;wire, m-&gt;id);
<a name="l00076"></a>00076 
<a name="l00077"></a>00077                 <span class="comment">//l-&gt;next_status = ol-&gt;next_status = tw_rand_integer(lp-&gt;id, 25, g_tw_ts_end);</span>
<a name="l00078"></a>00078                 <span class="comment">//l-&gt;last_status = ol-&gt;last_status = 0;</span>
<a name="l00079"></a>00079                 l-&gt;next_status = tw_rand_integer(lp-&gt;id, 25, g_tw_ts_end);
<a name="l00080"></a>00080                 l-&gt;last_status = 0;
<a name="l00081"></a>00081         }
<a name="l00082"></a>00082 <span class="preprocessor">#endif</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span>}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9c71664bcfbe5b1708a37d307e8d953e"></a><!-- doxytag: member="rn-extern.h::rn_link_random_weight_changes" ref="9c71664bcfbe5b1708a37d307e8d953e" args="(tw_lp *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_link_random_weight_changes           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-link_8c-source.html#l00089">89</a> of file <a class="el" href="rn-link_8c-source.html">rn-link.c</a>.</p>

<p>References <a class="el" href="rn-types_8h-source.html#l00062">LINK_STATUS_WEIGHT</a>, and <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00090"></a>00090 {
<a name="l00091"></a>00091         tw_stime         next_status;
<a name="l00092"></a>00092         tw_event        *e;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094         rn_message      *msg;
<a name="l00095"></a>00095         rn_machine      *m;
<a name="l00096"></a>00096 
<a name="l00097"></a>00097         <span class="keywordtype">int</span>              percent;
<a name="l00098"></a>00098         <span class="keywordtype">int</span>              i;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100         m = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(lp-&gt;id);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102         <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;nlinks; i++)
<a name="l00103"></a>00103         {
<a name="l00104"></a>00104                 percent = tw_rand_integer(lp-&gt;rng, 0, 100);
<a name="l00105"></a>00105 
<a name="l00106"></a>00106                 <span class="keywordflow">if</span>(percent &gt; 1 + 1)
<a name="l00107"></a>00107                         <span class="keywordflow">return</span>;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109                 next_status = tw_rand_integer(lp-&gt;rng, 1, g_tw_ts_end);
<a name="l00110"></a>00110 
<a name="l00111"></a>00111                 e = tw_event_new(lp-&gt;gid, next_status, lp);
<a name="l00112"></a>00112                 msg = tw_event_data(e);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114                 msg-&gt;port = i;
<a name="l00115"></a>00115                 msg-&gt;src = lp-&gt;id;
<a name="l00116"></a>00116                 msg-&gt;dst = lp-&gt;id;
<a name="l00117"></a>00117                 msg-&gt;type = <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02d6c4fcc9637b77f749eaf283834e2386">LINK_STATUS_WEIGHT</a>;
<a name="l00118"></a>00118 
<a name="l00119"></a>00119                 tw_event_send(e);
<a name="l00120"></a>00120         }
<a name="l00121"></a>00121 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ead1607572b6ebacc4aa7ae6960e3f5b"></a><!-- doxytag: member="rn-extern.h::rn_link_setwire" ref="ead1607572b6ebacc4aa7ae6960e3f5b" args="(rn_link *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_link_setwire           </td>
          <td>(</td>
          <td class="paramtype">rn_link *&nbsp;</td>
          <td class="paramname"> <em>l</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-link_8c-source.html#l00004">4</a> of file <a class="el" href="rn-link_8c-source.html">rn-link.c</a>.</p>

<p>References <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>.</p>

<p>Referenced by <a class="el" href="rn-machine_8c-source.html#l00034">rn_machine_print()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00005"></a>00005 {
<a name="l00006"></a>00006         <span class="keywordflow">if</span>(NULL == l-&gt;wire)
<a name="l00007"></a>00007                 l-&gt;wire = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(l-&gt;addr);
<a name="l00008"></a>00008 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7268bf89295ecff51e980a86a850a23c"></a><!-- doxytag: member="rn-extern.h::rn_lp_gettype" ref="7268bf89295ecff51e980a86a850a23c" args="(tw_lp *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_lptype* rn_lp_gettype           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-lp_8c-source.html#l00037">37</a> of file <a class="el" href="rn-lp_8c-source.html">rn-lp.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00071">g_rn_lptypes</a>.</p>

<p>Referenced by <a class="el" href="rn-setup_8c-source.html#l00004">rn_setup_layers()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00038"></a>00038 {
<a name="l00039"></a>00039         rn_lptype       *t;
<a name="l00040"></a>00040 
<a name="l00041"></a>00041         <span class="keywordflow">for</span>(t = <a class="code" href="rn-extern_8h.html#b4129909b76832eee80ae7a39dbcd907">g_rn_lptypes</a>; t &amp;&amp; t-&gt;init; t++)
<a name="l00042"></a>00042         {
<a name="l00043"></a>00043                 <span class="keywordflow">if</span>(lp-&gt;type.init == t-&gt;init)
<a name="l00044"></a>00044                         <span class="keywordflow">return</span> t;
<a name="l00045"></a>00045         }
<a name="l00046"></a>00046 
<a name="l00047"></a>00047         <span class="keywordflow">return</span> NULL;
<a name="l00048"></a>00048 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e1bf227205a39926be5992b9e60a861a"></a><!-- doxytag: member="rn-extern.h::rn_lp_settype" ref="e1bf227205a39926be5992b9e60a861a" args="(tw_lp *lp, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_lp_settype           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-lp_8c-source.html#l00025">25</a> of file <a class="el" href="rn-lp_8c-source.html">rn-lp.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00071">g_rn_lptypes</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00026"></a>00026 {
<a name="l00027"></a>00027         rn_lptype       *t;
<a name="l00028"></a>00028 
<a name="l00029"></a>00029         <span class="keywordflow">for</span>(t = <a class="code" href="rn-extern_8h.html#b4129909b76832eee80ae7a39dbcd907">g_rn_lptypes</a>; t; t++)
<a name="l00030"></a>00030                 <span class="keywordflow">if</span>(0 == strcmp(t-&gt;sname, name))
<a name="l00031"></a>00031                         <span class="keywordflow">break</span>;
<a name="l00032"></a>00032 
<a name="l00033"></a>00033         memcpy(&amp;lp-&gt;type, t, <span class="keyword">sizeof</span>(tw_lptype));
<a name="l00034"></a>00034 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="38fc9f234666905ea9acfe32fab817f2"></a><!-- doxytag: member="rn-extern.h::rn_machine_print" ref="38fc9f234666905ea9acfe32fab817f2" args="(rn_machine *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_machine_print           </td>
          <td>(</td>
          <td class="paramtype">rn_machine *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-machine_8c-source.html#l00034">34</a> of file <a class="el" href="rn-machine_8c-source.html">rn-machine.c</a>.</p>

<p>References <a class="el" href="rn-link_8c-source.html#l00004">rn_link_setwire()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00035"></a>00035 {
<a name="l00036"></a>00036         <span class="keywordtype">int</span>     i;
<a name="l00037"></a>00037 
<a name="l00038"></a>00038         rn_link *l;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 
<a name="l00041"></a>00041         printf(<span class="stringliteral">"\tnLinks: %d \n"</span>, m-&gt;nlinks);
<a name="l00042"></a>00042 
<a name="l00043"></a>00043         <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;nlinks; i++)
<a name="l00044"></a>00044         {
<a name="l00045"></a>00045                 l = &amp;m-&gt;link[i];
<a name="l00046"></a>00046 
<a name="l00047"></a>00047                 <span class="keywordflow">if</span>(NULL == l-&gt;wire)
<a name="l00048"></a>00048                         <a class="code" href="rn-extern_8h.html#ead1607572b6ebacc4aa7ae6960e3f5b">rn_link_setwire</a>(l);
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="preprocessor">#if DYNAMIC_LINKS</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span>                <span class="keywordflow">if</span>(l-&gt;status == 0)
<a name="l00052"></a>00052                         printf(<span class="stringliteral">"\t\tLink status: down \n"</span>);
<a name="l00053"></a>00053                 <span class="keywordflow">else</span>
<a name="l00054"></a>00054                         printf(<span class="stringliteral">"\t\tLink status: up\n"</span>);
<a name="l00055"></a>00055 <span class="preprocessor">#endif</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a>00057                 printf(<span class="stringliteral">"\t\tLink to: %lld \n"</span>, 
<a name="l00058"></a>00058                         l-&gt;addr);
<a name="l00059"></a>00059                 printf(<span class="stringliteral">"\t\tLink delay: %f \n"</span>, 
<a name="l00060"></a>00060                         l-&gt;delay);
<a name="l00061"></a>00061                 printf(<span class="stringliteral">"\t\tLink bandwidth: %lf \n"</span>, 
<a name="l00062"></a>00062                         l-&gt;bandwidth);
<a name="l00063"></a>00063                 printf(<span class="stringliteral">"\n"</span>);
<a name="l00064"></a>00064         }
<a name="l00065"></a>00065 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="86476e44643558d9a2008c976220a0a3"></a><!-- doxytag: member="rn-extern.h::rn_message_data" ref="86476e44643558d9a2008c976220a0a3" args="(rn_message *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rn_message_data           </td>
          <td>(</td>
          <td class="paramtype">rn_message *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-message_8c-source.html#l00016">16</a> of file <a class="el" href="rn-message_8c-source.html">rn-message.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-rc-router_8c-source.html#l00179">bgp_r_event_handler()</a>, <a class="el" href="ftp_8c-source.html#l00034">ftp_event_handler()</a>, <a class="el" href="ftp_8c-source.html#l00007">ftp_init()</a>, <a class="el" href="ospf-ip_8c-source.html#l00005">ospf_ip_route()</a>, <a class="el" href="ospf-router-rc_8c-source.html#l00004">ospf_rc_event_handler()</a>, <a class="el" href="rn-event_8c-source.html#l00167">rn_event_data()</a>, <a class="el" href="tcp-layer_8c-source.html#l00073">tcp_layer_event_handler()</a>, <a class="el" href="tcp-layer_8c-source.html#l00011">tcp_layer_init()</a>, <a class="el" href="tcp-layer-process_8c-source.html#l00008">tcp_layer_process_ack()</a>, <a class="el" href="tcp-layer-process-rc_8c-source.html#l00013">tcp_layer_process_ack_rc()</a>, <a class="el" href="tcp-layer-process_8c-source.html#l00119">tcp_layer_process_data()</a>, <a class="el" href="tcp-layer-process-rc_8c-source.html#l00120">tcp_layer_process_data_rc()</a>, <a class="el" href="tcp-layer_8c-source.html#l00115">tcp_layer_rc_event_handler()</a>, <a class="el" href="tcp-layer_8c-source.html#l00039">tcp_layer_startup()</a>, <a class="el" href="tcp-layer-process_8c-source.html#l00271">tcp_layer_timeout()</a>, <a class="el" href="tcp-layer-process_8c-source.html#l00210">tcp_layer_update_rtt()</a>, <a class="el" href="tcp-layer-util_8c-source.html#l00008">tcp_layer_util_event()</a>, and <a class="el" href="tcp-host-rc_8c-source.html#l00009">tcp_process_ack_rc()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00017"></a>00017 {
<a name="l00018"></a>00018         tw_error(TW_LOC, <span class="stringliteral">"This function is deprecated, please use memory buffers!"</span>);
<a name="l00019"></a>00019         
<a name="l00020"></a>00020         <span class="comment">//return (void *) &amp;m-&gt;data;</span>
<a name="l00021"></a>00021         <span class="keywordflow">return</span> NULL;
<a name="l00022"></a>00022 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fecccd05d182fb854799ff0f577f835f"></a><!-- doxytag: member="rn-extern.h::rn_message_getdirection" ref="fecccd05d182fb854799ff0f577f835f" args="(rn_message *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rn_message_getdirection           </td>
          <td>(</td>
          <td class="paramtype">rn_message *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-message_8c-source.html#l00032">32</a> of file <a class="el" href="rn-message_8c-source.html">rn-message.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00033"></a>00033 {
<a name="l00034"></a>00034         <span class="keywordflow">return</span> m-&gt;type;
<a name="l00035"></a>00035 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b5b97cf3985f38a87dcd07911d371a4a"></a><!-- doxytag: member="rn-extern.h::rn_message_getsize" ref="b5b97cf3985f38a87dcd07911d371a4a" args="(rn_message *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long rn_message_getsize           </td>
          <td>(</td>
          <td class="paramtype">rn_message *&nbsp;</td>
          <td class="paramname"> <em>e</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-message_8c-source.html#l00010">10</a> of file <a class="el" href="rn-message_8c-source.html">rn-message.c</a>.</p>

<p>Referenced by <a class="el" href="ospf-ip_8c-source.html#l00005">ospf_ip_route()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00011"></a>00011 {
<a name="l00012"></a>00012         <span class="keywordflow">return</span> m-&gt;size;
<a name="l00013"></a>00013 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f9b20cc862ff6917c49c4727c88ef5ad"></a><!-- doxytag: member="rn-extern.h::rn_message_setdirection" ref="f9b20cc862ff6917c49c4727c88ef5ad" args="(rn_message *m, rn_message_type direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_message_setdirection           </td>
          <td>(</td>
          <td class="paramtype">rn_message *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rn-types_8h.html#cd6ee16a232957f10b11c99c7ea957a2">rn_message_type</a>&nbsp;</td>
          <td class="paramname"> <em>direction</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-message_8c-source.html#l00025">25</a> of file <a class="el" href="rn-message_8c-source.html">rn-message.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00026"></a>00026 {
<a name="l00027"></a>00027         tw_error(TW_LOC, <span class="stringliteral">"This is no longer needed!!!"</span>);
<a name="l00028"></a>00028         m-&gt;type = direction;
<a name="l00029"></a>00029 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="31389041e3d04f5bb4efd6f7543bf7cb"></a><!-- doxytag: member="rn-extern.h::rn_message_setsize" ref="31389041e3d04f5bb4efd6f7543bf7cb" args="(rn_message *e, unsigned long sz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_message_setsize           </td>
          <td>(</td>
          <td class="paramtype">rn_message *&nbsp;</td>
          <td class="paramname"> <em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>sz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-message_8c-source.html#l00004">4</a> of file <a class="el" href="rn-message_8c-source.html">rn-message.c</a>.</p>

<p>Referenced by <a class="el" href="ospf-util_8c-source.html#l00024">ospf_event_send()</a>, and <a class="el" href="tcp-util_8c-source.html#l00004">tcp_event_send()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00005"></a>00005 {
<a name="l00006"></a>00006         m-&gt;size = size;
<a name="l00007"></a>00007 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4418d85aec51a98ac3da0e9b91bbd4d2"></a><!-- doxytag: member="rn-extern.h::rn_models_final" ref="4418d85aec51a98ac3da0e9b91bbd4d2" args="(rn_lptype *types)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_models_final           </td>
          <td>(</td>
          <td class="paramtype">rn_lptype *&nbsp;</td>
          <td class="paramname"> <em>types</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-models_8c-source.html#l00029">29</a> of file <a class="el" href="rn-models_8c-source.html">rn-models.c</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00030"></a>00030 {
<a name="l00031"></a>00031         rn_lptype       *t;
<a name="l00032"></a>00032         <span class="keywordtype">int</span>              i;
<a name="l00033"></a>00033 
<a name="l00034"></a>00034         <span class="keywordflow">for</span>(t = types, i = 0; t &amp;&amp; t-&gt;init; t = &amp;types[++i])
<a name="l00035"></a>00035                 <span class="keywordflow">if</span>(*t-&gt;md_final)
<a name="l00036"></a>00036                         (*t-&gt;md_final) ();
<a name="l00037"></a>00037 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7f3ccdd0b584b32168fe4f9e5f2bed29"></a><!-- doxytag: member="rn-extern.h::rn_models_init" ref="7f3ccdd0b584b32168fe4f9e5f2bed29" args="(rn_lptype *, int, char **, char **)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_models_init           </td>
          <td>(</td>
          <td class="paramtype">rn_lptype *&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-models_8c-source.html#l00013">13</a> of file <a class="el" href="rn-models_8c-source.html">rn-models.c</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00014"></a>00014 {
<a name="l00015"></a>00015         rn_lptype       *t;
<a name="l00016"></a>00016 
<a name="l00017"></a>00017         <span class="keywordtype">int</span>              i;
<a name="l00018"></a>00018 
<a name="l00019"></a>00019         <span class="keywordflow">for</span>(t = types, i = 0; t &amp;&amp; t-&gt;init; t = &amp;types[++i])
<a name="l00020"></a>00020                 <span class="keywordflow">if</span>(*t-&gt;md_init)
<a name="l00021"></a>00021                         (*t-&gt;md_init) (argc, argv, env);
<a name="l00022"></a>00022 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="050a6ff37fd172e7679544f3a139b6e1"></a><!-- doxytag: member="rn-extern.h::rn_next_lp" ref="050a6ff37fd172e7679544f3a139b6e1" args="(rn_lp_state *state, tw_lp *last, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_lp* rn_next_lp           </td>
          <td>(</td>
          <td class="paramtype">rn_lp_state *&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-lp_8c-source.html#l00051">51</a> of file <a class="el" href="rn-lp_8c-source.html">rn-lp.c</a>.</p>

<p>References <a class="el" href="rn-types_8h-source.html#l00055">DOWNSTREAM</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00052"></a>00052 {
<a name="l00053"></a>00053 <span class="preprocessor">#if 0</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(type == <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef02193085e792a05c4538ec2bc24c845652">DOWNSTREAM</a>)
<a name="l00055"></a>00055         {
<a name="l00056"></a>00056                 <span class="keywordflow">if</span>(last == NULL)
<a name="l00057"></a>00057                         <span class="keywordflow">return</span> state-&gt;lp_list;
<a name="l00058"></a>00058 
<a name="l00059"></a>00059                 <span class="keywordflow">if</span>(last-&gt;id == state-&gt;nlp - 1)
<a name="l00060"></a>00060                         <span class="keywordflow">return</span> NULL;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062                 <span class="keywordflow">return</span> &amp;state-&gt;lp_list[last-&gt;id + 1];
<a name="l00063"></a>00063         }
<a name="l00064"></a>00064 
<a name="l00065"></a>00065         <span class="keywordflow">if</span>(last == NULL)
<a name="l00066"></a>00066                 <span class="keywordflow">return</span> &amp;state-&gt;lp_list[state-&gt;nlp - 1];
<a name="l00067"></a>00067 
<a name="l00068"></a>00068         <span class="keywordflow">if</span>(last-&gt;id == 0)
<a name="l00069"></a>00069                 <span class="keywordflow">return</span> NULL;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         <span class="keywordflow">return</span> &amp;state-&gt;lp_list[last-&gt;id - 1];
<a name="l00072"></a>00072 <span class="preprocessor">#endif</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span>
<a name="l00074"></a>00074         <span class="keywordflow">return</span> NULL;
<a name="l00075"></a>00075 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d140702abef260820105f64aeae2ee77"></a><!-- doxytag: member="rn-extern.h::rn_nextarea" ref="d140702abef260820105f64aeae2ee77" args="(rn_area *as)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_area* rn_nextarea           </td>
          <td>(</td>
          <td class="paramtype">rn_area *&nbsp;</td>
          <td class="paramname"> <em>as</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This file provides functionality for the AS data type in rossnet. 
<p>Definition at line <a class="el" href="rn-area_8c-source.html#l00007">7</a> of file <a class="el" href="rn-area_8c-source.html">rn-area.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00047">g_rn_areas</a>, and <a class="el" href="rn-global_8c-source.html#l00046">g_rn_nareas</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00008"></a>00008 {
<a name="l00009"></a>00009         <span class="keywordflow">if</span>(as == NULL)
<a name="l00010"></a>00010                 <span class="keywordflow">return</span> <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>;
<a name="l00011"></a>00011 
<a name="l00012"></a>00012         <span class="keywordflow">if</span>(as-&gt;id == <a class="code" href="rn-extern_8h.html#a4b6f1685fffeec2b8b2290b175bfc38">g_rn_nareas</a> - 1)
<a name="l00013"></a>00013                 <span class="keywordflow">return</span> NULL;
<a name="l00014"></a>00014 
<a name="l00015"></a>00015         <span class="keywordflow">return</span> &amp;<a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[as-&gt;id+1];
<a name="l00016"></a>00016 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1f832ec1dcfed2b4e8c2162dea75ccfe"></a><!-- doxytag: member="rn-extern.h::rn_nextarea_onas" ref="1f832ec1dcfed2b4e8c2162dea75ccfe" args="(rn_area *ar, rn_as *as)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_area* rn_nextarea_onas           </td>
          <td>(</td>
          <td class="paramtype">rn_area *&nbsp;</td>
          <td class="paramname"> <em>ar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rn_as *&nbsp;</td>
          <td class="paramname"> <em>as</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-area_8c-source.html#l00022">22</a> of file <a class="el" href="rn-area_8c-source.html">rn-area.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00007">verify_topology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00023"></a>00023 {
<a name="l00024"></a>00024         <span class="keywordflow">if</span>(ar == NULL)
<a name="l00025"></a>00025                 <span class="keywordflow">return</span> as-&gt;areas;
<a name="l00026"></a>00026         <span class="keywordflow">else</span>
<a name="l00027"></a>00027                 <span class="keywordflow">return</span> ar-&gt;next;
<a name="l00028"></a>00028 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="21073a7b880365fc10762b642eb7bd31"></a><!-- doxytag: member="rn-extern.h::rn_nextas" ref="21073a7b880365fc10762b642eb7bd31" args="(rn_as *as)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_as* rn_nextas           </td>
          <td>(</td>
          <td class="paramtype">rn_as *&nbsp;</td>
          <td class="paramname"> <em>as</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Functions relating to an Autonomous System. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>David Bauer This file provides functionality for the AS data type within rossnet. <a class="el" href="rn-as_8c.html">rn-as.c</a>.</dd></dl>
This file provides functionality for the AS data type in rossnet. 
<p>Definition at line <a class="el" href="rn-as_8c-source.html#l00007">7</a> of file <a class="el" href="rn-as_8c-source.html">rn-as.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00044">g_rn_as</a>, and <a class="el" href="rn-global_8c-source.html#l00043">g_rn_nas</a>.</p>

<p>Referenced by <a class="el" href="bgp-main_8c-source.html#l00109">bgp_setup_ases()</a>, <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00007">verify_topology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00008"></a>00008 {
<a name="l00009"></a>00009         <span class="keywordflow">if</span>(as == NULL)
<a name="l00010"></a>00010                 <span class="keywordflow">return</span> <a class="code" href="rn-extern_8h.html#e962fc7d5ec532396dd1808ce2b4e44a">g_rn_as</a>;
<a name="l00011"></a>00011 
<a name="l00012"></a>00012         <span class="keywordflow">if</span>(as-&gt;id == <a class="code" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a> - 1)
<a name="l00013"></a>00013                 <span class="keywordflow">return</span> NULL;
<a name="l00014"></a>00014 
<a name="l00015"></a>00015         <span class="keywordflow">return</span> &amp;<a class="code" href="rn-extern_8h.html#e962fc7d5ec532396dd1808ce2b4e44a">g_rn_as</a>[as-&gt;id+1];
<a name="l00016"></a>00016 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="732aef9ee6200a2cba7402e307fae9f7"></a><!-- doxytag: member="rn-extern.h::rn_nextmachine_onsn" ref="732aef9ee6200a2cba7402e307fae9f7" args="(rn_machine *m, rn_subnet *sn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_machine* rn_nextmachine_onsn           </td>
          <td>(</td>
          <td class="paramtype">rn_machine *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rn_subnet *&nbsp;</td>
          <td class="paramname"> <em>sn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-subnet_8c-source.html#l00013">13</a> of file <a class="el" href="rn-subnet_8c-source.html">rn-subnet.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00007">verify_topology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00014"></a>00014 {
<a name="l00015"></a>00015         <span class="keywordflow">if</span>(m == NULL)
<a name="l00016"></a>00016                 <span class="keywordflow">return</span> sn-&gt;machines;
<a name="l00017"></a>00017         <span class="keywordflow">else</span>
<a name="l00018"></a>00018                 tw_error(TW_LOC, <span class="stringliteral">"Enable next pointer!"</span>);<span class="comment">//return m-&gt;next;</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020         <span class="keywordflow">return</span> NULL;
<a name="l00021"></a>00021 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9ebd1515cb5c70a5a7ea41a0bd282b93"></a><!-- doxytag: member="rn-extern.h::rn_nextsn_onarea" ref="9ebd1515cb5c70a5a7ea41a0bd282b93" args="(rn_subnet *sn, rn_area *ar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_subnet* rn_nextsn_onarea           </td>
          <td>(</td>
          <td class="paramtype">rn_subnet *&nbsp;</td>
          <td class="paramname"> <em>sn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rn_area *&nbsp;</td>
          <td class="paramname"> <em>ar</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-subnet_8c-source.html#l00004">4</a> of file <a class="el" href="rn-subnet_8c-source.html">rn-subnet.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00007">verify_topology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00005"></a>00005 {
<a name="l00006"></a>00006         <span class="keywordflow">if</span>(sn == NULL)
<a name="l00007"></a>00007                 <span class="keywordflow">return</span> ar-&gt;subnets;
<a name="l00008"></a>00008         <span class="keywordflow">else</span>
<a name="l00009"></a>00009                 <span class="keywordflow">return</span> sn-&gt;next;
<a name="l00010"></a>00010 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8890679c55545bd36e770b118a920b57"></a><!-- doxytag: member="rn-extern.h::rn_route" ref="8890679c55545bd36e770b118a920b57" args="(rn_machine *m, tw_lpid dst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rn_route           </td>
          <td>(</td>
          <td class="paramtype">rn_machine *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_lpid&nbsp;</td>
          <td class="paramname"> <em>dst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-routing_8c-source.html#l00007">7</a> of file <a class="el" href="rn-routing_8c-source.html">rn-routing.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00043">g_rn_nas</a>, <a class="el" href="rn-machine_8c-source.html#l00022">rn_getarea()</a>, <a class="el" href="rn-machine_8c-source.html#l00028">rn_getas()</a>, and <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>.</p>

<p>Referenced by <a class="el" href="bgp-connect_8c-source.html#l00013">bgp_connect()</a>, <a class="el" href="bgp-init_8c-source.html#l00070">bgp_init()</a>, <a class="el" href="bgp-ospf_8c-source.html#l00203">bgp_lsa_find()</a>, <a class="el" href="bgp-route_8c-source.html#l00073">bgp_route_add()</a>, <a class="el" href="bgp-route_8c-source.html#l00221">bgp_route_copy()</a>, <a class="el" href="bgp-route_8c-source.html#l00138">bgp_route_withdraw()</a>, <a class="el" href="ospf-dd_8c-source.html#l00062">dd_exchange()</a>, <a class="el" href="ospf-database_8c-source.html#l00006">ospf_db_route()</a>, <a class="el" href="ospf-ip_8c-source.html#l00005">ospf_ip_route()</a>, <a class="el" href="ospf-lsa_8c-source.html#l00527">ospf_lsa_create()</a>, <a class="el" href="ospf-routing_8c-source.html#l00404">ospf_routing_init()</a>, <a class="el" href="ospf-routing_8c-source.html#l00224">ospf_rt_print()</a>, and <a class="el" href="bgp-update_8c-source.html#l00135">update_add()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00008"></a>00008 {
<a name="l00009"></a>00009         rn_area *ar = <a class="code" href="rn-extern_8h.html#d45bc39e5a89bce656786b571acb1ae8">rn_getarea</a>(m);
<a name="l00010"></a>00010         rn_as   *as = ar-&gt;as;
<a name="l00011"></a>00011 
<a name="l00012"></a>00012         rn_area *d_ar = <a class="code" href="rn-extern_8h.html#d45bc39e5a89bce656786b571acb1ae8">rn_getarea</a>(<a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(dst));
<a name="l00013"></a>00013         rn_as   *d_as = <a class="code" href="rn-extern_8h.html#d3b2637627bbb86acf01b38d07495042">rn_getas</a>(<a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(dst));
<a name="l00014"></a>00014 
<a name="l00015"></a>00015         <span class="keywordflow">if</span>(dst &gt;= ar-&gt;low &amp;&amp; dst &lt;= ar-&gt;high)
<a name="l00016"></a>00016         {
<a name="l00017"></a>00017                 <span class="keywordflow">if</span>(dst - ar-&gt;low &gt;= ar-&gt;g_ospf_nlsa)
<a name="l00018"></a>00018                         tw_error(TW_LOC, <span class="stringliteral">"Out of range!"</span>);
<a name="l00019"></a>00019 
<a name="l00020"></a>00020                 <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) m-&gt;ft[dst - ar-&gt;low];
<a name="l00021"></a>00021         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(d_ar-&gt;id &gt;= as-&gt;low &amp;&amp; d_ar-&gt;id &lt;= as-&gt;high)
<a name="l00022"></a>00022         {
<a name="l00023"></a>00023                 <span class="keywordflow">if</span>(ar-&gt;nmachines + d_ar-&gt;id - d_as-&gt;low  &gt;= ar-&gt;g_ospf_nlsa)
<a name="l00024"></a>00024                         tw_error(TW_LOC, <span class="stringliteral">"Out of range!"</span>);
<a name="l00025"></a>00025 
<a name="l00026"></a>00026                 <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) m-&gt;ft[ar-&gt;nmachines + d_ar-&gt;id - d_as-&gt;low];
<a name="l00027"></a>00027         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(d_as-&gt;id &gt;= 0 &amp;&amp; d_as-&gt;id &lt; <a class="code" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a>)
<a name="l00028"></a>00028         {
<a name="l00029"></a>00029                 <span class="keywordflow">if</span>(ar-&gt;nmachines + as-&gt;nareas + d_as-&gt;id  &gt;= ar-&gt;g_ospf_nlsa)
<a name="l00030"></a>00030                         tw_error(TW_LOC, <span class="stringliteral">"Out of range!"</span>);
<a name="l00031"></a>00031 
<a name="l00032"></a>00032                 <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) m-&gt;ft[ar-&gt;nmachines + as-&gt;nareas + d_as-&gt;id];
<a name="l00033"></a>00033         } <span class="keywordflow">else</span>
<a name="l00034"></a>00034         {
<a name="l00035"></a>00035                 printf(<span class="stringliteral">"%lld: Attempting to route to network? %d &gt;= %lld \n"</span>,
<a name="l00036"></a>00036                         m-&gt;id, ar-&gt;nmachines + as-&gt;nareas + <a class="code" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a>, dst);
<a name="l00037"></a>00037                 printf(<span class="stringliteral">"%lld: nMachines %d, Area %d, AS nAreas %d, AS %d \n"</span>,
<a name="l00038"></a>00038                         m-&gt;id, ar-&gt;nmachines, ar-&gt;id, as-&gt;nareas, as-&gt;id);
<a name="l00039"></a>00039 
<a name="l00040"></a>00040                 <span class="keywordflow">return</span> -1;
<a name="l00041"></a>00041         }
<a name="l00042"></a>00042 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2071d019422a8152e6d4e70cb9151f64"></a><!-- doxytag: member="rn-extern.h::rn_route_change" ref="2071d019422a8152e6d4e70cb9151f64" args="(rn_machine *m, int loc, int new_val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rn_route_change           </td>
          <td>(</td>
          <td class="paramtype">rn_machine *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>new_val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-routing_8c-source.html#l00048">48</a> of file <a class="el" href="rn-routing_8c-source.html">rn-routing.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-route_8c-source.html#l00073">bgp_route_add()</a>, <a class="el" href="bgp-route_8c-source.html#l00138">bgp_route_withdraw()</a>, and <a class="el" href="ospf-database_8c-source.html#l00006">ospf_db_route()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00049"></a>00049 {
<a name="l00050"></a>00050         <span class="keywordtype">char</span> old_val = m-&gt;ft[loc];
<a name="l00051"></a>00051 
<a name="l00052"></a>00052         m-&gt;ft[loc] = new_val;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054         <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) old_val;
<a name="l00055"></a>00055 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9a7277839f37e9a52cec34ba97ad7301"></a><!-- doxytag: member="rn-extern.h::rn_setmachine" ref="9a7277839f37e9a52cec34ba97ad7301" args="(rn_machine *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_setmachine           </td>
          <td>(</td>
          <td class="paramtype">rn_machine *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-machine_8c-source.html#l00010">10</a> of file <a class="el" href="rn-machine_8c-source.html">rn-machine.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00058">g_rn_machines</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00011"></a>00011 {
<a name="l00012"></a>00012         <a class="code" href="rn-extern_8h.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a>[m-&gt;id] = *m;
<a name="l00013"></a>00013 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8ea9cf6038e94e113986cd8cd058090e"></a><!-- doxytag: member="rn-extern.h::rn_setup" ref="8ea9cf6038e94e113986cd8cd058090e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_setup           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-setup_8c-source.html#l00205">205</a> of file <a class="el" href="rn-setup_8c-source.html">rn-setup.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00083">g_rn_rt_table</a>, <a class="el" href="rn-global_8c-source.html#l00084">g_rn_tools_dir</a>, <a class="el" href="rn-global_8c-source.html#l00081">g_rn_xml_link_topology</a>, and <a class="el" href="rn-global_8c-source.html#l00080">g_rn_xml_topology</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00206"></a>00206 {
<a name="l00207"></a>00207         <span class="keywordflow">if</span>(0 != strcmp(<a class="code" href="rn-extern_8h.html#7199204689d83ed6e37695c3baaa2f85">g_rn_tools_dir</a>, <span class="stringliteral">""</span>))
<a name="l00208"></a>00208         {
<a name="l00209"></a>00209                 <span class="keywordtype">char</span> * dir = <a class="code" href="rn-extern_8h.html#7199204689d83ed6e37695c3baaa2f85">g_rn_tools_dir</a>;
<a name="l00210"></a>00210                 sprintf(<a class="code" href="rn-extern_8h.html#6116080aae51cd236a5e93bae46780f1">g_rn_xml_topology</a>, <span class="stringliteral">"tools/%s/%s.xml"</span>, dir, dir);
<a name="l00211"></a>00211                 sprintf(<a class="code" href="rn-extern_8h.html#e26a2f6ed0f9caa31e7f5809a42e90c0">g_rn_rt_table</a>, <span class="stringliteral">"tools/%s/%s.rt"</span>, dir, dir);
<a name="l00212"></a>00212                 sprintf(<a class="code" href="rn-extern_8h.html#c3d4953961d8eb1c314de927cfe34d8c">g_rn_xml_link_topology</a>, <span class="stringliteral">"tools/%s/links.xml"</span>, dir);
<a name="l00213"></a>00213                 <span class="comment">//sprintf(g_rn_xml_model, "tools/%s/model.xml", dir);</span>
<a name="l00214"></a>00214 
<a name="l00215"></a>00215                 printf(<span class="stringliteral">"Opening config file: %s \n"</span>, <a class="code" href="rn-extern_8h.html#6116080aae51cd236a5e93bae46780f1">g_rn_xml_topology</a>);
<a name="l00216"></a>00216                 printf(<span class="stringliteral">"Opening link file: %s \n"</span>, <a class="code" href="rn-extern_8h.html#c3d4953961d8eb1c314de927cfe34d8c">g_rn_xml_link_topology</a>);
<a name="l00217"></a>00217                 printf(<span class="stringliteral">"Opening routing table file: %s \n"</span>, <a class="code" href="rn-extern_8h.html#e26a2f6ed0f9caa31e7f5809a42e90c0">g_rn_rt_table</a>);
<a name="l00218"></a>00218         }
<a name="l00219"></a>00219 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="cbcbdbead7a3d0ebc4e17aab58cc204b"></a><!-- doxytag: member="rn-extern.h::rn_setup_links" ref="cbcbdbead7a3d0ebc4e17aab58cc204b" args="(rn_lp_state *state, tw_lp *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_setup_links           </td>
          <td>(</td>
          <td class="paramtype">rn_lp_state *&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-setup_8c-source.html#l00164">164</a> of file <a class="el" href="rn-setup_8c-source.html">rn-setup.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00055">g_rn_nlink_status</a>, <a class="el" href="rn-types_8h-source.html#l00061">LINK_STATUS_DOWN</a>, <a class="el" href="rn-types_8h-source.html#l00060">LINK_STATUS_UP</a>, <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>, and <a class="el" href="rn-types_8h-source.html#l00067">rn_link_up</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00169">rn_startup()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00165"></a>00165 {
<a name="l00166"></a>00166 <span class="preprocessor">#if DYNAMIC_LINKS</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span>        tw_event        *e;
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         rn_message      *msg;
<a name="l00170"></a>00170         rn_machine      *m;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172         <span class="keywordtype">int</span>              i;
<a name="l00173"></a>00173 
<a name="l00174"></a>00174         m = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(lp-&gt;id);
<a name="l00175"></a>00175 
<a name="l00176"></a>00176         <span class="keywordflow">for</span>(i = 0; i &lt; m-&gt;nlinks; i++)
<a name="l00177"></a>00177         {
<a name="l00178"></a>00178                 <span class="keywordflow">if</span>(m-&gt;link[i].next_status == 0 || m-&gt;link[i].next_status == INT_MAX)
<a name="l00179"></a>00179                         <span class="keywordflow">continue</span>;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 <span class="preprocessor">#if 1</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>                printf(<span class="stringliteral">"%lld: Setting link status event for time %lf, now %lf \n"</span>, 
<a name="l00183"></a>00183                                 lp-&gt;gid, m-&gt;link[i].next_status, tw_now(lp));
<a name="l00184"></a>00184 <span class="preprocessor">#endif</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span>
<a name="l00186"></a>00186                 <a class="code" href="rn-extern_8h.html#f19835b74f981f1e98a215a488aa0342">g_rn_nlink_status</a>++;
<a name="l00187"></a>00187                 e = tw_event_new(lp, m-&gt;link[i].next_status, lp);
<a name="l00188"></a>00188                 msg = tw_event_data(e);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190                 msg-&gt;port = i;
<a name="l00191"></a>00191                 msg-&gt;src = lp-&gt;id;
<a name="l00192"></a>00192                 msg-&gt;dst = lp-&gt;id;
<a name="l00193"></a>00193 
<a name="l00194"></a>00194                 <span class="keywordflow">if</span>(m-&gt;link[i].status == <a class="code" href="rn-types_8h.html#2d0a8ea9d30165ab589bd3431b19a809e6ca115d8025eff150e273e71d7c090e">rn_link_up</a>)
<a name="l00195"></a>00195                         msg-&gt;type = <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef020abef14eb10a694d7e18fd9c09972eb9">LINK_STATUS_DOWN</a>;
<a name="l00196"></a>00196                 <span class="keywordflow">else</span>
<a name="l00197"></a>00197                         msg-&gt;type = <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef0290f726b46437670cde3c6c1a3a54d467">LINK_STATUS_UP</a>;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199                 tw_event_send(e);
<a name="l00200"></a>00200         }
<a name="l00201"></a>00201 <span class="preprocessor">#endif</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span>}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fb8b2d4b654a136f614b5e33f1c6abd1"></a><!-- doxytag: member="rn-extern.h::rn_setup_options" ref="fb8b2d4b654a136f614b5e33f1c6abd1" args="(int argc, char **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_setup_options           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a5d6cfc1c375989af881be30c9954912"></a><!-- doxytag: member="rn-extern.h::rn_setup_streams" ref="a5d6cfc1c375989af881be30c9954912" args="(rn_lp_state *state, rn_lptype *types, tw_lp *lp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_setup_streams           </td>
          <td>(</td>
          <td class="paramtype">rn_lp_state *&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rn_lptype *&nbsp;</td>
          <td class="paramname"> <em>types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function sets up the star model for the different layers 
<p>Definition at line <a class="el" href="rn-setup_8c-source.html#l00081">81</a> of file <a class="el" href="rn-setup_8c-source.html">rn-setup.c</a>.</p>

<p>References <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>, <a class="el" href="rn-layer_8c-source.html#l00008">rn_layer_alloc()</a>, <a class="el" href="rn-setup_8c-source.html#l00004">rn_setup_layers()</a>, <a class="el" href="rn-stream_8c-source.html#l00042">rn_stream_alloc()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00207">xml_getprop()</a>.</p>

<p>Referenced by <a class="el" href="rn-init_8c-source.html#l00095">rn_init_lps()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00082"></a>00082 {
<a name="l00083"></a>00083         xmlNodePtr              node;
<a name="l00084"></a>00084         xmlNodePtr              x_temp;
<a name="l00085"></a>00085         xmlNodePtr              x_stream;
<a name="l00086"></a>00086         xmlNodePtr              x_layer;
<a name="l00087"></a>00087 
<a name="l00088"></a>00088         <span class="keywordtype">int</span>                     cur_stream;
<a name="l00089"></a>00089 
<a name="l00090"></a>00090         rn_layer                *layer;
<a name="l00091"></a>00091         rn_stream               *stream;
<a name="l00092"></a>00092         rn_machine              *m;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094         m = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(lp-&gt;id);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="preprocessor">#if RN_VERIFY_SETUP</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>        printf(<span class="stringliteral">"SETUP star model for node: %lld \n"</span>, lp-&gt;gid);
<a name="l00098"></a>00098 <span class="preprocessor">#endif</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00100"></a>00100         <span class="keywordflow">for</span>(x_stream = m-&gt;xml-&gt;children; x_stream; x_stream = x_stream-&gt;next)
<a name="l00101"></a>00101         {
<a name="l00102"></a>00102                 <span class="keywordflow">if</span>(0 != strcmp((<span class="keywordtype">char</span> *) x_stream-&gt;name, <span class="stringliteral">"stream"</span>))
<a name="l00103"></a>00103                         <span class="keywordflow">continue</span>;
<a name="l00104"></a>00104 
<a name="l00105"></a>00105                 state-&gt;nstreams++;
<a name="l00106"></a>00106         }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108         state-&gt;streams = <a class="code" href="rn-extern_8h.html#bbe79ef704989690d5d0c23371396de9">rn_stream_alloc</a>(state-&gt;nstreams);
<a name="l00109"></a>00109 
<a name="l00110"></a>00110         <span class="keywordflow">if</span>(!state-&gt;streams)
<a name="l00111"></a>00111                 tw_error(TW_LOC, <span class="stringliteral">"Did not get any streams for machine %d!"</span>, lp-&gt;id);
<a name="l00112"></a>00112 
<a name="l00113"></a>00113         node = m-&gt;xml;
<a name="l00114"></a>00114         stream = state-&gt;streams;
<a name="l00115"></a>00115         cur_stream = 0;
<a name="l00116"></a>00116         <span class="keywordflow">for</span>(x_stream = node-&gt;children; x_stream; x_stream = x_stream-&gt;next)
<a name="l00117"></a>00117         {
<a name="l00118"></a>00118                 <span class="keywordflow">if</span>(0 != strcmp((<span class="keywordtype">char</span> *) x_stream-&gt;name, <span class="stringliteral">"stream"</span>))
<a name="l00119"></a>00119                         <span class="keywordflow">continue</span>;
<a name="l00120"></a>00120 
<a name="l00121"></a>00121                 stream-&gt;port = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(x_stream, <span class="stringliteral">"port"</span>));
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="preprocessor">#if RN_VERIFY_SETUP</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span>                printf(<span class="stringliteral">"\tport: %d \n"</span>, stream-&gt;port);
<a name="l00125"></a>00125 <span class="preprocessor">#endif</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span>
<a name="l00127"></a>00127                 <span class="comment">/*</span>
<a name="l00128"></a>00128 <span class="comment">                 * Setup the stream layers</span>
<a name="l00129"></a>00129 <span class="comment">                 */</span>
<a name="l00130"></a>00130                 <span class="keywordflow">for</span>(x_temp = x_stream-&gt;children; x_temp; x_temp = x_temp-&gt;next)
<a name="l00131"></a>00131                 {
<a name="l00132"></a>00132                         <span class="keywordflow">if</span>(0 != strcmp((<span class="keywordtype">char</span> *) x_temp-&gt;name, <span class="stringliteral">"layer"</span>))
<a name="l00133"></a>00133                                 <span class="keywordflow">continue</span>;
<a name="l00134"></a>00134 
<a name="l00135"></a>00135                         stream-&gt;nlayers++;
<a name="l00136"></a>00136                 }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138                 stream-&gt;layers = <a class="code" href="rn-extern_8h.html#b0a7da4becc0ae7d53909eea87a8316a">rn_layer_alloc</a>(stream-&gt;nlayers);
<a name="l00139"></a>00139                 layer = stream-&gt;layers;
<a name="l00140"></a>00140                 x_layer = x_stream-&gt;children;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <span class="preprocessor">#if RN_VERIFY_SETUP</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span>                printf(<span class="stringliteral">"\tlayers: %d\n"</span>, stream-&gt;nlayers);
<a name="l00144"></a>00144 <span class="preprocessor">#endif</span>
<a name="l00145"></a>00145 <span class="preprocessor"></span>
<a name="l00146"></a>00146                 <span class="keywordflow">while</span>(0 != strcmp((<span class="keywordtype">char</span> *) x_layer-&gt;name, <span class="stringliteral">"layer"</span>))
<a name="l00147"></a>00147                         x_layer = x_layer-&gt;next;
<a name="l00148"></a>00148 
<a name="l00149"></a>00149                 <a class="code" href="rn-setup_8c.html#6f18e6f0a4738c20acc5f426426f7c2e">rn_setup_layers</a>(state, cur_stream, layer, types, x_layer, lp);
<a name="l00150"></a>00150 
<a name="l00151"></a>00151                 stream = stream + 1;
<a name="l00152"></a>00152                 cur_stream++;
<a name="l00153"></a>00153         }
<a name="l00154"></a>00154 
<a name="l00155"></a>00155         m-&gt;xml = NULL;
<a name="l00156"></a>00156 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="bbe79ef704989690d5d0c23371396de9"></a><!-- doxytag: member="rn-extern.h::rn_stream_alloc" ref="bbe79ef704989690d5d0c23371396de9" args="(unsigned int nstreams)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_stream* rn_stream_alloc           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>nstreams</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function allocates the streams to the rn_lps during the rn_startup phase, which is multi-threaded 
<p>Definition at line <a class="el" href="rn-stream_8c-source.html#l00042">42</a> of file <a class="el" href="rn-stream_8c-source.html">rn-stream.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00062">g_rn_nextstream</a>, <a class="el" href="rn-global_8c-source.html#l00102">g_rn_stream_lck</a>, and <a class="el" href="rn-global_8c-source.html#l00061">g_rn_streams</a>.</p>

<p>Referenced by <a class="el" href="rn-setup_8c-source.html#l00081">rn_setup_streams()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00043"></a>00043 {
<a name="l00044"></a>00044         rn_stream       *stream;
<a name="l00045"></a>00045 
<a name="l00046"></a>00046         tw_mutex_lock(&amp;<a class="code" href="rn-extern_8h.html#f352e8afc1578ec4cddee3bdab4ae52d">g_rn_stream_lck</a>);
<a name="l00047"></a>00047 
<a name="l00048"></a>00048         <span class="keywordflow">if</span>(nstreams == 0)
<a name="l00049"></a>00049                 tw_error(TW_LOC, <span class="stringliteral">"No streams for this node!"</span>);
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="preprocessor">#if RN_VERIFY_LP</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(nstreams &gt; 1)
<a name="l00053"></a>00053                 printf(<span class="stringliteral">"Allocating streams: %d to %d \n"</span>, 
<a name="l00054"></a>00054                                 <a class="code" href="rn-extern_8h.html#ce8de6e19ef1ead23e7fdc435ee3f119">g_rn_nextstream</a>, (<a class="code" href="rn-extern_8h.html#ce8de6e19ef1ead23e7fdc435ee3f119">g_rn_nextstream</a> + nstreams - 1));
<a name="l00055"></a>00055         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(nstreams == 1)
<a name="l00056"></a>00056                 printf(<span class="stringliteral">"Allocating stream: %d \n"</span>, <a class="code" href="rn-extern_8h.html#ce8de6e19ef1ead23e7fdc435ee3f119">g_rn_nextstream</a>);
<a name="l00057"></a>00057         <span class="keywordflow">else</span>
<a name="l00058"></a>00058                 tw_error(TW_LOC, <span class="stringliteral">"Trying to allocate %d streams!"</span>, nstreams);
<a name="l00059"></a>00059 <span class="preprocessor">#endif</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061         stream = &amp;<a class="code" href="rn-extern_8h.html#23edd0fd73827e4194341e6b07f5efb0">g_rn_streams</a>[<a class="code" href="rn-extern_8h.html#ce8de6e19ef1ead23e7fdc435ee3f119">g_rn_nextstream</a>];
<a name="l00062"></a>00062         <a class="code" href="rn-extern_8h.html#ce8de6e19ef1ead23e7fdc435ee3f119">g_rn_nextstream</a> += nstreams;
<a name="l00063"></a>00063 
<a name="l00064"></a>00064         tw_mutex_unlock(&amp;<a class="code" href="rn-extern_8h.html#f352e8afc1578ec4cddee3bdab4ae52d">g_rn_stream_lck</a>);
<a name="l00065"></a>00065 
<a name="l00066"></a>00066         <span class="keywordflow">return</span> stream;
<a name="l00067"></a>00067 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="28a608317636d45bb278a081d3dea2d2"></a><!-- doxytag: member="rn-extern.h::rn_timer_cancel" ref="28a608317636d45bb278a081d3dea2d2" args="(tw_lp *lp, tw_event **e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_timer_cancel           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_event **&nbsp;</td>
          <td class="paramname"> <em>e</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-timer_8c-source.html#l00080">80</a> of file <a class="el" href="rn-timer_8c-source.html">rn-timer.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-timer_8c-source.html#l00004">bgp_timer_cancel()</a>, <a class="el" href="save_2epi-timer_8c-source.html#l00008">epi_timer_cancel()</a>, <a class="el" href="num-timer_8c-source.html#l00009">num_timer_cancel()</a>, <a class="el" href="ospf-timer_8c-source.html#l00004">ospf_timer_cancel()</a>, <a class="el" href="tcp_8c-source.html#l00004">stop_transfer()</a>, <a class="el" href="tcp-timer_8c-source.html#l00060">tcp_rc_timer_reset()</a>, and <a class="el" href="tcp-timer_8c-source.html#l00113">tcp_timer_cancel()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00081"></a>00081 {
<a name="l00082"></a>00082         tw_timer_cancel(lp, e);
<a name="l00083"></a>00083         e = NULL;
<a name="l00084"></a>00084 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0ac1d7574bf764f8813b77b2ee72d79d"></a><!-- doxytag: member="rn-extern.h::rn_timer_init" ref="0ac1d7574bf764f8813b77b2ee72d79d" args="(tw_lp *lp, tw_stime ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_event* rn_timer_init           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_stime&nbsp;</td>
          <td class="paramname"> <em>ts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-timer_8c-source.html#l00030">30</a> of file <a class="el" href="rn-timer_8c-source.html">rn-timer.c</a>.</p>

<p>References <a class="el" href="rn-stream_8c-source.html#l00023">rn_getstream()</a>, <a class="el" href="ospf-global_8c-source.html#l00030">s</a>, and <a class="el" href="rn-types_8h-source.html#l00056">TIMER</a>.</p>

<p>Referenced by <a class="el" href="bgp-timer_8c-source.html#l00029">bgp_timer_start()</a>, <a class="el" href="save_2epi_8c-source.html#l00019">epi_init()</a>, <a class="el" href="epi-timer_8c-source.html#l00004">epi_location_timer()</a>, <a class="el" href="save_2epi-timer_8c-source.html#l00020">epi_timer_start()</a>, <a class="el" href="num-file_8c-source.html#l00055">num_file_complete()</a>, <a class="el" href="num_8c-source.html#l00081">num_start()</a>, <a class="el" href="num-timer_8c-source.html#l00018">num_timer_start()</a>, <a class="el" href="ospf-timer_8c-source.html#l00029">ospf_timer_start()</a>, <a class="el" href="tcp_8c-source.html#l00025">start_transfer()</a>, <a class="el" href="tcp-host_8c-source.html#l00353">tcp_host_timeout()</a>, <a class="el" href="tcp-layer_8c-source.html#l00011">tcp_layer_init()</a>, <a class="el" href="tcp-layer_8c-source.html#l00039">tcp_layer_startup()</a>, <a class="el" href="tcp-layer-process_8c-source.html#l00271">tcp_layer_timeout()</a>, and <a class="el" href="tcp-timer_8c-source.html#l00007">tcp_timer_reset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00031"></a>00031 {
<a name="l00032"></a>00032         tw_event        *e;
<a name="l00033"></a>00033         rn_lp_state     *state;
<a name="l00034"></a>00034         rn_message      *msg;
<a name="l00035"></a>00035         rn_stream       *<a class="code" href="ospf-extern_8h.html#b4c6c03359486e6fb0ac52a94493df1e">s</a>;
<a name="l00036"></a>00036 
<a name="l00037"></a>00037         e = tw_timer_init(lp, ts);
<a name="l00038"></a>00038 
<a name="l00039"></a>00039         <span class="keywordflow">if</span>(!e)
<a name="l00040"></a>00040                 <span class="keywordflow">return</span> NULL;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042         msg = tw_event_data(e);
<a name="l00043"></a>00043         state = lp-&gt;cur_state;
<a name="l00044"></a>00044         s = <a class="code" href="rn-extern_8h.html#af86a65184f40426de1361196ef45cef">rn_getstream</a>(lp);
<a name="l00045"></a>00045 
<a name="l00046"></a>00046         msg-&gt;type = <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef0217ba9bae1b8d7e8d6c12d46ec58e0769">TIMER</a>;
<a name="l00047"></a>00047         msg-&gt;timer = state-&gt;cur_lp;
<a name="l00048"></a>00048         msg-&gt;src = lp-&gt;id;
<a name="l00049"></a>00049         msg-&gt;dst = lp-&gt;id;
<a name="l00050"></a>00050         msg-&gt;size = s-&gt;cur_layer;
<a name="l00051"></a>00051         msg-&gt;port = s-&gt;port;
<a name="l00052"></a>00052         msg-&gt;ttl = 0;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054         <span class="keywordflow">return</span> e;
<a name="l00055"></a>00055 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5b99d884fbe86665c417897138aff8a6"></a><!-- doxytag: member="rn-extern.h::rn_timer_reset" ref="5b99d884fbe86665c417897138aff8a6" args="(tw_lp *lp, tw_event **e, tw_stime ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_event* rn_timer_reset           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_event **&nbsp;</td>
          <td class="paramname"> <em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_stime&nbsp;</td>
          <td class="paramname"> <em>ts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-timer_8c-source.html#l00058">58</a> of file <a class="el" href="rn-timer_8c-source.html">rn-timer.c</a>.</p>

<p>References <a class="el" href="rn-types_8h-source.html#l00056">TIMER</a>.</p>

<p>Referenced by <a class="el" href="bgp-timer_8c-source.html#l00029">bgp_timer_start()</a>, <a class="el" href="epi-timer_8c-source.html#l00004">epi_location_timer()</a>, <a class="el" href="save_2epi-timer_8c-source.html#l00020">epi_timer_start()</a>, <a class="el" href="num-timer_8c-source.html#l00018">num_timer_start()</a>, <a class="el" href="ospf-timer_8c-source.html#l00029">ospf_timer_start()</a>, <a class="el" href="tcp-host_8c-source.html#l00010">tcp_host_process_ack()</a>, <a class="el" href="tcp-host_8c-source.html#l00265">tcp_host_update_rtt()</a>, <a class="el" href="tcp-layer-process_8c-source.html#l00008">tcp_layer_process_ack()</a>, <a class="el" href="tcp-layer-process_8c-source.html#l00210">tcp_layer_update_rtt()</a>, and <a class="el" href="tcp-timer_8c-source.html#l00007">tcp_timer_reset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00059"></a>00059 {
<a name="l00060"></a>00060         rn_message      *msg;
<a name="l00061"></a>00061         rn_lp_state     *state;
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         tw_timer_reset(lp, e, ts);
<a name="l00064"></a>00064 
<a name="l00065"></a>00065         <span class="keywordflow">if</span>(!*e)
<a name="l00066"></a>00066                 <span class="keywordflow">return</span> *e;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068         state = (rn_lp_state *) lp-&gt;cur_state;
<a name="l00069"></a>00069         msg = (rn_message *) tw_event_data(*e);
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         msg-&gt;type = <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef0217ba9bae1b8d7e8d6c12d46ec58e0769">TIMER</a>;
<a name="l00072"></a>00072         msg-&gt;timer = state-&gt;cur_lp;
<a name="l00073"></a>00073         msg-&gt;src = lp-&gt;id;
<a name="l00074"></a>00074         msg-&gt;dst = lp-&gt;id;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <span class="keywordflow">return</span> *e;
<a name="l00077"></a>00077 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1b018b2a83777582dde06961f4ef2b80"></a><!-- doxytag: member="rn-extern.h::rn_timer_simple" ref="1b018b2a83777582dde06961f4ef2b80" args="(tw_lp *lp, tw_stime ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_event* rn_timer_simple           </td>
          <td>(</td>
          <td class="paramtype">tw_lp *&nbsp;</td>
          <td class="paramname"> <em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tw_stime&nbsp;</td>
          <td class="paramname"> <em>ts</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-timer_8c-source.html#l00004">4</a> of file <a class="el" href="rn-timer_8c-source.html">rn-timer.c</a>.</p>

<p>References <a class="el" href="rn-stream_8c-source.html#l00023">rn_getstream()</a>, <a class="el" href="ospf-global_8c-source.html#l00030">s</a>, and <a class="el" href="rn-types_8h-source.html#l00056">TIMER</a>.</p>

<p>Referenced by <a class="el" href="bgp-utils_8c-source.html#l00004">bgp_timer_start()</a>, and <a class="el" href="ospf-experiments_8c-source.html#l00004">ospf_random_weights()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00005"></a>00005 {
<a name="l00006"></a>00006         tw_event        *tmr;
<a name="l00007"></a>00007         rn_lp_state     *state;
<a name="l00008"></a>00008         rn_message      *r;
<a name="l00009"></a>00009         rn_stream       *<a class="code" href="ospf-extern_8h.html#b4c6c03359486e6fb0ac52a94493df1e">s</a>;
<a name="l00010"></a>00010 
<a name="l00011"></a>00011         state = lp-&gt;cur_state;
<a name="l00012"></a>00012         tmr = tw_event_new(lp-&gt;gid, ts, lp);
<a name="l00013"></a>00013 
<a name="l00014"></a>00014         r = tw_event_data(tmr);
<a name="l00015"></a>00015         s = <a class="code" href="rn-extern_8h.html#af86a65184f40426de1361196ef45cef">rn_getstream</a>(lp);
<a name="l00016"></a>00016 
<a name="l00017"></a>00017         r-&gt;type = <a class="code" href="rn-types_8h.html#3fc738f2924cae2b2d04a9a133c3ef0217ba9bae1b8d7e8d6c12d46ec58e0769">TIMER</a>;
<a name="l00018"></a>00018         r-&gt;dst = lp-&gt;id;
<a name="l00019"></a>00019         r-&gt;src = lp-&gt;id;
<a name="l00020"></a>00020         r-&gt;timer = state-&gt;cur_lp;
<a name="l00021"></a>00021         r-&gt;size = s-&gt;cur_layer;
<a name="l00022"></a>00022         r-&gt;port = s-&gt;port;
<a name="l00023"></a>00023 
<a name="l00024"></a>00024         tw_event_send(tmr);
<a name="l00025"></a>00025 
<a name="l00026"></a>00026         <span class="keywordflow">return</span> tmr;
<a name="l00027"></a>00027 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fe3dfafe439a0e560457b5be8c23c3cd"></a><!-- doxytag: member="rn-extern.h::rn_xml_end" ref="fe3dfafe439a0e560457b5be8c23c3cd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_xml_end           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xml-libxml_8c-source.html#l00135">135</a> of file <a class="el" href="xml-libxml_8c-source.html">xml-libxml.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00091">ctxt</a>, <a class="el" href="rn-global_8c-source.html#l00088">document_links</a>, <a class="el" href="rn-global_8c-source.html#l00089">document_model</a>, and <a class="el" href="rn-global_8c-source.html#l00087">document_network</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {
<a name="l00137"></a>00137         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>)
<a name="l00138"></a>00138                 xmlXPathFreeContext(<a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>);
<a name="l00139"></a>00139 
<a name="l00140"></a>00140         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#ed2ae1d48ae8ce65c4143eb7be1d5956">document_network</a>)
<a name="l00141"></a>00141                 xmlFreeDoc(<a class="code" href="rn-extern_8h.html#ed2ae1d48ae8ce65c4143eb7be1d5956">document_network</a>);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#aa8ab1bdabd942b8b8a32078e9222af7">document_links</a>)
<a name="l00144"></a>00144                 xmlFreeDoc(<a class="code" href="rn-extern_8h.html#aa8ab1bdabd942b8b8a32078e9222af7">document_links</a>);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#3d821f7d07830b11765946503d18c0f5">document_model</a>)
<a name="l00147"></a>00147                 xmlFreeDoc(<a class="code" href="rn-extern_8h.html#3d821f7d07830b11765946503d18c0f5">document_model</a>);
<a name="l00148"></a>00148 
<a name="l00149"></a>00149         xmlCleanupParser();
<a name="l00150"></a>00150 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c0c3b087c86027c48acfc7560ee35109"></a><!-- doxytag: member="rn-extern.h::rn_xml_init" ref="c0c3b087c86027c48acfc7560ee35109" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_xml_init           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xml-libxml_8c-source.html#l00077">77</a> of file <a class="el" href="xml-libxml_8c-source.html">xml-libxml.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00091">ctxt</a>, <a class="el" href="rn-global_8c-source.html#l00092">ctxt_links</a>, <a class="el" href="rn-global_8c-source.html#l00093">ctxt_model</a>, <a class="el" href="rn-global_8c-source.html#l00088">document_links</a>, <a class="el" href="rn-global_8c-source.html#l00089">document_model</a>, <a class="el" href="rn-global_8c-source.html#l00087">document_network</a>, <a class="el" href="rn-global_8c-source.html#l00081">g_rn_xml_link_topology</a>, <a class="el" href="rn-global_8c-source.html#l00082">g_rn_xml_model</a>, <a class="el" href="rn-global_8c-source.html#l00080">g_rn_xml_topology</a>, <a class="el" href="xml-libxml_8c-source.html#l00153">rn_xml_link_topology()</a>, <a class="el" href="xml-libxml_8c-source.html#l00355">rn_xml_model()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00078"></a>00078 {
<a name="l00079"></a>00079 <span class="preprocessor">#if RN_XML_DEBUG</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span>        printf(<span class="stringliteral">"Reading in XML topology file: %s\n\n"</span>, <a class="code" href="rn-extern_8h.html#6116080aae51cd236a5e93bae46780f1">g_rn_xml_topology</a>);
<a name="l00081"></a>00081 <span class="preprocessor">#endif</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span>
<a name="l00083"></a>00083         xmlXPathInit();
<a name="l00084"></a>00084         <a class="code" href="rn-extern_8h.html#ed2ae1d48ae8ce65c4143eb7be1d5956">document_network</a> = xmlReadFile(<a class="code" href="rn-extern_8h.html#6116080aae51cd236a5e93bae46780f1">g_rn_xml_topology</a>, NULL , 0);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086         <span class="keywordflow">if</span>(!<a class="code" href="rn-extern_8h.html#ed2ae1d48ae8ce65c4143eb7be1d5956">document_network</a>)
<a name="l00087"></a>00087                 tw_error(TW_LOC, <span class="stringliteral">"Parsing of network topology file %s failed!"</span>, 
<a name="l00088"></a>00088                         <a class="code" href="rn-extern_8h.html#6116080aae51cd236a5e93bae46780f1">g_rn_xml_topology</a>);
<a name="l00089"></a>00089 
<a name="l00090"></a>00090         <a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a> = xmlXPathNewContext(<a class="code" href="rn-extern_8h.html#ed2ae1d48ae8ce65c4143eb7be1d5956">document_network</a>);
<a name="l00091"></a>00091 
<a name="l00092"></a>00092         <span class="keywordflow">if</span>(!<a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>)
<a name="l00093"></a>00093                 tw_error(TW_LOC, <span class="stringliteral">"Could not create network topology XML context!"</span>);
<a name="l00094"></a>00094 
<a name="l00095"></a>00095         <span class="comment">/* read in the XML network topology */</span>
<a name="l00096"></a>00096         <a class="code" href="rn-extern_8h.html#bad1d32ba0876edc7cc08a19484c5f9e">rn_xml_topology</a>();
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#c3d4953961d8eb1c314de927cfe34d8c">g_rn_xml_link_topology</a> != NULL)
<a name="l00099"></a>00099         {
<a name="l00100"></a>00100                 <a class="code" href="rn-extern_8h.html#aa8ab1bdabd942b8b8a32078e9222af7">document_links</a> = xmlReadFile(<a class="code" href="rn-extern_8h.html#c3d4953961d8eb1c314de927cfe34d8c">g_rn_xml_link_topology</a>, NULL ,0);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102                 <span class="keywordflow">if</span>(!<a class="code" href="rn-extern_8h.html#aa8ab1bdabd942b8b8a32078e9222af7">document_links</a>)
<a name="l00103"></a>00103                         tw_error(TW_LOC, <span class="stringliteral">"Parsing of link topology file %s failed!"</span>, 
<a name="l00104"></a>00104                                 <a class="code" href="rn-extern_8h.html#c3d4953961d8eb1c314de927cfe34d8c">g_rn_xml_link_topology</a>);
<a name="l00105"></a>00105 
<a name="l00106"></a>00106                 <a class="code" href="rn-extern_8h.html#d3661c804119c039f47237343db3c616">ctxt_links</a> = xmlXPathNewContext(<a class="code" href="rn-extern_8h.html#aa8ab1bdabd942b8b8a32078e9222af7">document_links</a>);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108                 <span class="keywordflow">if</span>(!<a class="code" href="rn-extern_8h.html#d3661c804119c039f47237343db3c616">ctxt_links</a>)
<a name="l00109"></a>00109                         tw_error(TW_LOC, <span class="stringliteral">"Unable to create model XML context!"</span>);
<a name="l00110"></a>00110 
<a name="l00111"></a>00111                 <span class="comment">/* read in the XML link topology */</span>
<a name="l00112"></a>00112                 <a class="code" href="rn-extern_8h.html#1c0ca34d8a041f0b2774b7c038e00bac">rn_xml_link_topology</a>();
<a name="l00113"></a>00113                 xmlXPathFreeContext(<a class="code" href="rn-extern_8h.html#d3661c804119c039f47237343db3c616">ctxt_links</a>);
<a name="l00114"></a>00114         }
<a name="l00115"></a>00115 
<a name="l00116"></a>00116         <span class="keywordflow">if</span>(NULL != <a class="code" href="rn-extern_8h.html#850a32d9b3d45f3b6f44b98ab26403c4">g_rn_xml_model</a> &amp;&amp; 0 != strcmp(<a class="code" href="rn-extern_8h.html#850a32d9b3d45f3b6f44b98ab26403c4">g_rn_xml_model</a>, <span class="stringliteral">""</span>))
<a name="l00117"></a>00117         {
<a name="l00118"></a>00118                 <a class="code" href="rn-extern_8h.html#3d821f7d07830b11765946503d18c0f5">document_model</a> = xmlReadFile(<a class="code" href="rn-extern_8h.html#850a32d9b3d45f3b6f44b98ab26403c4">g_rn_xml_model</a>, NULL, 0);
<a name="l00119"></a>00119 
<a name="l00120"></a>00120                 <span class="keywordflow">if</span>(!<a class="code" href="rn-extern_8h.html#3d821f7d07830b11765946503d18c0f5">document_model</a>)
<a name="l00121"></a>00121                         tw_error(TW_LOC, <span class="stringliteral">"Parsing of model file %s failed!"</span>, 
<a name="l00122"></a>00122                                 <a class="code" href="rn-extern_8h.html#850a32d9b3d45f3b6f44b98ab26403c4">g_rn_xml_model</a>);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124                 <a class="code" href="rn-extern_8h.html#bf02fcaac7110159391e0374a38b83f4">ctxt_model</a> = xmlXPathNewContext(<a class="code" href="rn-extern_8h.html#3d821f7d07830b11765946503d18c0f5">document_model</a>);
<a name="l00125"></a>00125 
<a name="l00126"></a>00126                 <span class="keywordflow">if</span>(!<a class="code" href="rn-extern_8h.html#bf02fcaac7110159391e0374a38b83f4">ctxt_model</a>)
<a name="l00127"></a>00127                         tw_error(TW_LOC, <span class="stringliteral">"Unable to create model XML context!"</span>);
<a name="l00128"></a>00128 
<a name="l00129"></a>00129                 <a class="code" href="rn-extern_8h.html#081e99a381bf7bdcfb17433211cae946">rn_xml_model</a>();
<a name="l00130"></a>00130                 xmlXPathFreeContext(<a class="code" href="rn-extern_8h.html#bf02fcaac7110159391e0374a38b83f4">ctxt_model</a>);
<a name="l00131"></a>00131         }
<a name="l00132"></a>00132 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1c0ca34d8a041f0b2774b7c038e00bac"></a><!-- doxytag: member="rn-extern.h::rn_xml_link_topology" ref="1c0ca34d8a041f0b2774b7c038e00bac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_xml_link_topology           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xml-libxml_8c-source.html#l00153">153</a> of file <a class="el" href="xml-libxml_8c-source.html">xml-libxml.c</a>.</p>

<p>References <a class="el" href="rn-global_8c-source.html#l00092">ctxt_links</a>, <a class="el" href="save_2ip-routing_8c-source.html#l00104">d</a>, <a class="el" href="rn-link_8c-source.html#l00017">rn_getlink()</a>, <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>, <a class="el" href="ospf-global_8c-source.html#l00030">s</a>, <a class="el" href="xml-libxml_8c-source.html#l00207">xml_getprop()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00068">xpath()</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00154"></a>00154 {
<a name="l00155"></a>00155         xmlXPathObjectPtr       obj;
<a name="l00156"></a>00156 
<a name="l00157"></a>00157         xmlNodePtr              node;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159         <span class="keywordtype">int</span>                     src;
<a name="l00160"></a>00160         <span class="keywordtype">int</span>                     dst;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162         rn_machine              *<a class="code" href="save_2ip-routing_8c.html#0ddbf789cfd814565dd88748311c1c36">d</a>;
<a name="l00163"></a>00163         rn_machine              *<a class="code" href="ospf-extern_8h.html#b4c6c03359486e6fb0ac52a94493df1e">s</a>;
<a name="l00164"></a>00164 
<a name="l00165"></a>00165         rn_link                 *s_l;
<a name="l00166"></a>00166         rn_link                 *d_l;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168         <span class="comment">/* Statuses */</span>
<a name="l00169"></a>00169         obj = <a class="code" href="rn-extern_8h.html#1ba6b31617e8e4f7346b7fb67c34d74a">xpath</a>(<span class="stringliteral">"//status"</span>, <a class="code" href="rn-extern_8h.html#d3661c804119c039f47237343db3c616">ctxt_links</a>);
<a name="l00170"></a>00170 
<a name="l00171"></a>00171         <span class="keywordflow">if</span>(0 == obj-&gt;nodesetval-&gt;nodeNr)
<a name="l00172"></a>00172                 <span class="keywordflow">return</span>;
<a name="l00173"></a>00173 
<a name="l00174"></a>00174         <span class="keywordflow">for</span>(node = *obj-&gt;nodesetval-&gt;nodeTab; node != NULL; node = node-&gt;next)
<a name="l00175"></a>00175         {
<a name="l00176"></a>00176                 <span class="keywordflow">if</span>(0 != strcmp((<span class="keywordtype">char</span> *) node-&gt;name, <span class="stringliteral">"status"</span>))
<a name="l00177"></a>00177                         <span class="keywordflow">continue</span>;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179                 src = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"src"</span>));
<a name="l00180"></a>00180                 dst = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"addr"</span>));
<a name="l00181"></a>00181 
<a name="l00182"></a>00182                 s = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(src);
<a name="l00183"></a>00183                 d = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(dst);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185                 <span class="comment">/*</span>
<a name="l00186"></a>00186 <span class="comment">                 * Should check link type and change the status approp</span>
<a name="l00187"></a>00187 <span class="comment">                 */</span>
<a name="l00188"></a>00188                 s_l = <a class="code" href="rn-extern_8h.html#d7173e076af48912ba761e8ef0cc1b22">rn_getlink</a>(s, d-&gt;id);
<a name="l00189"></a>00189                 d_l = <a class="code" href="rn-extern_8h.html#d7173e076af48912ba761e8ef0cc1b22">rn_getlink</a>(d, s-&gt;id);
<a name="l00190"></a>00190 
<a name="l00191"></a>00191                 <span class="keywordflow">if</span>(!s_l || !d_l)
<a name="l00192"></a>00192                 {
<a name="l00193"></a>00193                         printf(<span class="stringliteral">"Bad link specified in links.xml -- ignoring! \n"</span>);
<a name="l00194"></a>00194                         <span class="keywordflow">continue</span>;
<a name="l00195"></a>00195                 }
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="preprocessor">#if DYNAMIC_LINKS</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span>                s_l-&gt;next_status = d_l-&gt;next_status = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"change"</span>));
<a name="l00199"></a>00199                 s_l-&gt;last_status = d_l-&gt;last_status = 0;
<a name="l00200"></a>00200 <span class="preprocessor">#endif</span>
<a name="l00201"></a>00201 <span class="preprocessor"></span>        }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203         xmlXPathFreeObject(obj);
<a name="l00204"></a>00204 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="081e99a381bf7bdcfb17433211cae946"></a><!-- doxytag: member="rn-extern.h::rn_xml_model" ref="081e99a381bf7bdcfb17433211cae946" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_xml_model           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xml-libxml_8c-source.html#l00355">355</a> of file <a class="el" href="xml-libxml_8c-source.html">xml-libxml.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00356"></a>00356 {
<a name="l00357"></a>00357         tw_error(TW_LOC, <span class="stringliteral">"Seperate file for model not implemented yet!!"</span>);
<a name="l00358"></a>00358 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="bad1d32ba0876edc7cc08a19484c5f9e"></a><!-- doxytag: member="rn-extern.h::rn_xml_topology" ref="bad1d32ba0876edc7cc08a19484c5f9e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rn_xml_topology           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xml-libxml_8c-source.html#l00364">364</a> of file <a class="el" href="xml-libxml_8c-source.html">xml-libxml.c</a>.</p>

<p>References <a class="el" href="rn-types_8h-source.html#l00049">c_co_router</a>, <a class="el" href="rn-types_8h-source.html#l00047">c_ct_router</a>, <a class="el" href="rn-types_8h-source.html#l00050">c_ha_router</a>, <a class="el" href="rn-types_8h-source.html#l00045">c_host</a>, <a class="el" href="rn-types_8h-source.html#l00048">c_og_router</a>, <a class="el" href="rn-types_8h-source.html#l00046">c_router</a>, <a class="el" href="rn-global_8c-source.html#l00091">ctxt</a>, <a class="el" href="rn-global_8c-source.html#l00047">g_rn_areas</a>, <a class="el" href="rn-global_8c-source.html#l00044">g_rn_as</a>, <a class="el" href="rn-global_8c-source.html#l00058">g_rn_machines</a>, <a class="el" href="rn-global_8c-source.html#l00046">g_rn_nareas</a>, <a class="el" href="rn-global_8c-source.html#l00043">g_rn_nas</a>, <a class="el" href="rn-global_8c-source.html#l00064">g_rn_nlayers</a>, <a class="el" href="rn-global_8c-source.html#l00054">g_rn_nlinks</a>, <a class="el" href="rn-global_8c-source.html#l00057">g_rn_nmachines</a>, <a class="el" href="rn-global_8c-source.html#l00052">g_rn_nrouters</a>, <a class="el" href="rn-global_8c-source.html#l00060">g_rn_nstreams</a>, <a class="el" href="rn-global_8c-source.html#l00049">g_rn_nsubnets</a>, <a class="el" href="rn-global_8c-source.html#l00050">g_rn_subnets</a>, <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>, <a class="el" href="hash-quadratic_8c-source.html#l00031">rn_hash_create()</a>, <a class="el" href="rn-area_8c-source.html#l00022">rn_nextarea_onas()</a>, <a class="el" href="rn-as_8c-source.html#l00007">rn_nextas()</a>, <a class="el" href="xml-libxml_8c-source.html#l00207">xml_getprop()</a>, <a class="el" href="xml-libxml_8c-source.html#l00226">xml_link_topology()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00068">xpath()</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00365"></a>00365 {
<a name="l00366"></a>00366         xmlXPathObjectPtr       obj;
<a name="l00367"></a>00367 
<a name="l00368"></a>00368         xmlNodePtr              node;
<a name="l00369"></a>00369 
<a name="l00370"></a>00370         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>            i;
<a name="l00371"></a>00371         <span class="comment">//unsigned int          j;</span>
<a name="l00372"></a>00372         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>            id;
<a name="l00373"></a>00373         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>            size;
<a name="l00374"></a>00374 
<a name="l00375"></a>00375         rn_as                   *as;
<a name="l00376"></a>00376         rn_area                 *ar;
<a name="l00377"></a>00377         rn_subnet               *sn;
<a name="l00378"></a>00378         rn_machine              *m;
<a name="l00379"></a>00379 
<a name="l00380"></a>00380         size = 0;
<a name="l00381"></a>00381 
<a name="l00382"></a>00382         <span class="comment">/* Streams and Layers */</span>
<a name="l00383"></a>00383         obj = <a class="code" href="rn-extern_8h.html#1ba6b31617e8e4f7346b7fb67c34d74a">xpath</a>(<span class="stringliteral">"//stream"</span>, <a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>);
<a name="l00384"></a>00384         <a class="code" href="rn-extern_8h.html#b98149ec75dce4cb706da065bc57d27f">g_rn_nstreams</a> = xmlXPathNodeSetGetLength(obj-&gt;nodesetval);
<a name="l00385"></a>00385         xmlXPathFreeObject(obj);
<a name="l00386"></a>00386 
<a name="l00387"></a>00387         obj = <a class="code" href="rn-extern_8h.html#1ba6b31617e8e4f7346b7fb67c34d74a">xpath</a>(<span class="stringliteral">"//layer"</span>, <a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>);
<a name="l00388"></a>00388         <a class="code" href="rn-extern_8h.html#935d14a7cca164ca547f89596a675511">g_rn_nlayers</a> = xmlXPathNodeSetGetLength(obj-&gt;nodesetval);
<a name="l00389"></a>00389         xmlXPathFreeObject(obj);
<a name="l00390"></a>00390 
<a name="l00391"></a>00391         <span class="comment">/* ASes */</span>
<a name="l00392"></a>00392         obj = <a class="code" href="rn-extern_8h.html#1ba6b31617e8e4f7346b7fb67c34d74a">xpath</a>(<span class="stringliteral">"/rossnet/as"</span>, <a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>);
<a name="l00393"></a>00393         <a class="code" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a> = xmlXPathNodeSetGetLength(obj-&gt;nodesetval);   
<a name="l00394"></a>00394 
<a name="l00395"></a>00395         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a> &gt; 0)
<a name="l00396"></a>00396         {
<a name="l00397"></a>00397                 <a class="code" href="rn-extern_8h.html#e962fc7d5ec532396dd1808ce2b4e44a">g_rn_as</a> = (rn_as *) tw_calloc(TW_LOC, <span class="stringliteral">""</span>, <span class="keyword">sizeof</span>(rn_as), <a class="code" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a>);
<a name="l00398"></a>00398                 size += <span class="keyword">sizeof</span>(rn_as) * <a class="code" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a>;
<a name="l00399"></a>00399         }
<a name="l00400"></a>00400 
<a name="l00401"></a>00401         node = obj-&gt;nodesetval-&gt;nodeTab[0];
<a name="l00402"></a>00402         <span class="keywordflow">for</span>(i = 0; i &lt; obj-&gt;nodesetval-&gt;nodeNr; )
<a name="l00403"></a>00403         {
<a name="l00404"></a>00404                 <a class="code" href="rn-extern_8h.html#e962fc7d5ec532396dd1808ce2b4e44a">g_rn_as</a>[i].low = -1;
<a name="l00405"></a>00405                 <a class="code" href="rn-extern_8h.html#e962fc7d5ec532396dd1808ce2b4e44a">g_rn_as</a>[i].id = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"id"</span>));  
<a name="l00406"></a>00406                 <span class="comment">//g_rn_as[i].frequency = atoi(xml_getprop(node, "frequency"));  </span>
<a name="l00407"></a>00407 
<a name="l00408"></a>00408 <span class="preprocessor">#if WASTE_MEM</span>
<a name="l00409"></a>00409 <span class="preprocessor"></span>                <span class="keywordflow">if</span>(0 == strcmp(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"name"</span>), <span class="stringliteral">"name"</span>))
<a name="l00410"></a>00410                         <a class="code" href="rn-extern_8h.html#e962fc7d5ec532396dd1808ce2b4e44a">g_rn_as</a>[i].name = (<span class="keywordtype">char</span> *) xmlStrdup((xmlChar *) <a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"name"</span>));
<a name="l00411"></a>00411 <span class="preprocessor">#endif</span>
<a name="l00412"></a>00412 <span class="preprocessor"></span>
<a name="l00413"></a>00413                 node = obj-&gt;nodesetval-&gt;nodeTab[++i];
<a name="l00414"></a>00414         }
<a name="l00415"></a>00415 
<a name="l00416"></a>00416         xmlXPathFreeObject(obj);
<a name="l00417"></a>00417 
<a name="l00418"></a>00418         <span class="comment">/* Areas */</span>
<a name="l00419"></a>00419         obj = <a class="code" href="rn-extern_8h.html#1ba6b31617e8e4f7346b7fb67c34d74a">xpath</a>(<span class="stringliteral">"/rossnet/as/area"</span>, <a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>);
<a name="l00420"></a>00420         <a class="code" href="rn-extern_8h.html#a4b6f1685fffeec2b8b2290b175bfc38">g_rn_nareas</a> = xmlXPathNodeSetGetLength(obj-&gt;nodesetval);        
<a name="l00421"></a>00421 
<a name="l00422"></a>00422         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#a4b6f1685fffeec2b8b2290b175bfc38">g_rn_nareas</a> &gt; 0)
<a name="l00423"></a>00423         {
<a name="l00424"></a>00424                 <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a> = (rn_area *) tw_calloc(TW_LOC, <span class="stringliteral">""</span>, <span class="keyword">sizeof</span>(rn_area), <a class="code" href="rn-extern_8h.html#a4b6f1685fffeec2b8b2290b175bfc38">g_rn_nareas</a>);
<a name="l00425"></a>00425                 size += <span class="keyword">sizeof</span>(rn_area) * <a class="code" href="rn-extern_8h.html#a4b6f1685fffeec2b8b2290b175bfc38">g_rn_nareas</a>;
<a name="l00426"></a>00426         }
<a name="l00427"></a>00427 
<a name="l00428"></a>00428         node = obj-&gt;nodesetval-&gt;nodeTab[0];
<a name="l00429"></a>00429         <span class="keywordflow">for</span>(i = 0; i &lt; obj-&gt;nodesetval-&gt;nodeNr; )
<a name="l00430"></a>00430         {
<a name="l00431"></a>00431                 <span class="comment">//g_rn_areas[i].root = INT_MAX;</span>
<a name="l00432"></a>00432                 <span class="comment">//g_rn_areas[i].root_lvl = 0xff;</span>
<a name="l00433"></a>00433                 <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i].low = INT_MAX;
<a name="l00434"></a>00434                 <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i].id = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"id"</span>));       
<a name="l00435"></a>00435                 <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i].as = &amp;<a class="code" href="rn-extern_8h.html#e962fc7d5ec532396dd1808ce2b4e44a">g_rn_as</a>[atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node-&gt;parent, <span class="stringliteral">"id"</span>))];
<a name="l00436"></a>00436 
<a name="l00437"></a>00437                 <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i].as-&gt;areas == NULL)
<a name="l00438"></a>00438                         <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i].as-&gt;areas = &amp;<a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i];
<a name="l00439"></a>00439 
<a name="l00440"></a>00440                 <span class="keywordflow">if</span>(i &gt; 0 &amp;&amp; <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i-1].as-&gt;id == <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i].as-&gt;id)
<a name="l00441"></a>00441                         <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i-1].next = &amp;<a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i];
<a name="l00442"></a>00442 
<a name="l00443"></a>00443                 <a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[i].as-&gt;nareas++;
<a name="l00444"></a>00444 
<a name="l00445"></a>00445                 node = obj-&gt;nodesetval-&gt;nodeTab[++i];
<a name="l00446"></a>00446         }
<a name="l00447"></a>00447 
<a name="l00448"></a>00448         xmlXPathFreeObject(obj);
<a name="l00449"></a>00449 
<a name="l00450"></a>00450         <span class="comment">/* Subnets */</span>
<a name="l00451"></a>00451         obj = <a class="code" href="rn-extern_8h.html#1ba6b31617e8e4f7346b7fb67c34d74a">xpath</a>(<span class="stringliteral">"/rossnet/as/area/subnet"</span>, <a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>);
<a name="l00452"></a>00452         <a class="code" href="rn-extern_8h.html#d1b8f527a1303e1e1478e1e76f086a07">g_rn_nsubnets</a> = xmlXPathNodeSetGetLength(obj-&gt;nodesetval);      
<a name="l00453"></a>00453 
<a name="l00454"></a>00454         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#d1b8f527a1303e1e1478e1e76f086a07">g_rn_nsubnets</a> &gt; 0)
<a name="l00455"></a>00455         {
<a name="l00456"></a>00456                 <a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a> = (rn_subnet *) tw_calloc(TW_LOC, <span class="stringliteral">""</span>, <span class="keyword">sizeof</span>(rn_subnet), <a class="code" href="rn-extern_8h.html#d1b8f527a1303e1e1478e1e76f086a07">g_rn_nsubnets</a>);
<a name="l00457"></a>00457                 size += <span class="keyword">sizeof</span>(rn_subnet) * <a class="code" href="rn-extern_8h.html#d1b8f527a1303e1e1478e1e76f086a07">g_rn_nsubnets</a>;
<a name="l00458"></a>00458         }
<a name="l00459"></a>00459 
<a name="l00460"></a>00460         node = *obj-&gt;nodesetval-&gt;nodeTab;
<a name="l00461"></a>00461         <span class="keywordflow">for</span>(i = 0; i &lt; obj-&gt;nodesetval-&gt;nodeNr; )
<a name="l00462"></a>00462         {
<a name="l00463"></a>00463                 <a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i].low = INT_MAX;
<a name="l00464"></a>00464                 <a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i].id = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"id"</span>));     
<a name="l00465"></a>00465                 <a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i].area = &amp;<a class="code" href="rn-extern_8h.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>[atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node-&gt;parent, <span class="stringliteral">"id"</span>))];
<a name="l00466"></a>00466 
<a name="l00467"></a>00467                 <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i].area-&gt;subnets == NULL)
<a name="l00468"></a>00468                         <a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i].area-&gt;subnets = &amp;<a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i];
<a name="l00469"></a>00469 
<a name="l00470"></a>00470                 <span class="keywordflow">if</span>(i &gt; 0 &amp;&amp; <a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i-1].area-&gt;id == <a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i].area-&gt;id)
<a name="l00471"></a>00471                         <a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i-1].next = &amp;<a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i];
<a name="l00472"></a>00472 
<a name="l00473"></a>00473                 <a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[i].area-&gt;nsubnets++;
<a name="l00474"></a>00474 
<a name="l00475"></a>00475                 node = obj-&gt;nodesetval-&gt;nodeTab[++i];
<a name="l00476"></a>00476         }
<a name="l00477"></a>00477 
<a name="l00478"></a>00478         xmlXPathFreeObject(obj);
<a name="l00479"></a>00479 
<a name="l00480"></a>00480         <span class="comment">/* Machines */</span>
<a name="l00481"></a>00481         obj = <a class="code" href="rn-extern_8h.html#1ba6b31617e8e4f7346b7fb67c34d74a">xpath</a>(<span class="stringliteral">"//node"</span>, <a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>);
<a name="l00482"></a>00482         <a class="code" href="rn-extern_8h.html#7ca5dc0546d7333fe497cc998d7ba11a">g_rn_nmachines</a> = xmlXPathNodeSetGetLength(obj-&gt;nodesetval);     
<a name="l00483"></a>00483 
<a name="l00484"></a>00484         <span class="keywordflow">if</span>(<a class="code" href="rn-extern_8h.html#7ca5dc0546d7333fe497cc998d7ba11a">g_rn_nmachines</a>)
<a name="l00485"></a>00485         {
<a name="l00486"></a>00486                 <a class="code" href="rn-extern_8h.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a> = (rn_machine *) tw_calloc(TW_LOC, <span class="stringliteral">""</span>, <span class="keyword">sizeof</span>(rn_machine), <a class="code" href="rn-extern_8h.html#7ca5dc0546d7333fe497cc998d7ba11a">g_rn_nmachines</a>);
<a name="l00487"></a>00487                 size += <span class="keyword">sizeof</span>(rn_machine) * <a class="code" href="rn-extern_8h.html#7ca5dc0546d7333fe497cc998d7ba11a">g_rn_nmachines</a>;
<a name="l00488"></a>00488         } <span class="keywordflow">else</span>
<a name="l00489"></a>00489                 tw_error(TW_LOC, <span class="stringliteral">"No machines found in XML!"</span>);
<a name="l00490"></a>00490 
<a name="l00491"></a>00491         g_tw_nlp = obj-&gt;nodesetval-&gt;nodeNr;
<a name="l00492"></a>00492         node = *obj-&gt;nodesetval-&gt;nodeTab;
<a name="l00493"></a>00493 
<a name="l00494"></a>00494         <span class="keywordflow">for</span>(i = 0; i &lt; obj-&gt;nodesetval-&gt;nodeNr; )
<a name="l00495"></a>00495         {
<a name="l00496"></a>00496                 <span class="keywordtype">id</span> = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"id"</span>));
<a name="l00497"></a>00497 
<a name="l00498"></a>00498                 m = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(<span class="keywordtype">id</span>);
<a name="l00499"></a>00499                 m-&gt;xml = node;
<a name="l00500"></a>00500                 m-&gt;conn = -1;
<a name="l00501"></a>00501                 m-&gt;id = id;
<a name="l00502"></a>00502                 m-&gt;nlinks = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"links"</span>));   
<a name="l00503"></a>00503                 <span class="comment">//m-&gt;level = atoi(xml_getprop(node, "lvl"));</span>
<a name="l00504"></a>00504                 m-&gt;subnet = &amp;<a class="code" href="rn-extern_8h.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>[atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node-&gt;parent, <span class="stringliteral">"id"</span>))];
<a name="l00505"></a>00505 
<a name="l00506"></a>00506                 <span class="keywordflow">if</span>(0 != strcmp(<span class="stringliteral">""</span>, <a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"uid"</span>)))
<a name="l00507"></a>00507                         m-&gt;uid = atoi(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"uid"</span>));
<a name="l00508"></a>00508                 <span class="keywordflow">else</span>
<a name="l00509"></a>00509                         m-&gt;uid = -1;
<a name="l00510"></a>00510 
<a name="l00511"></a>00511                 <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">"c_router"</span>, <a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"type"</span>)) == 0)
<a name="l00512"></a>00512                 {
<a name="l00513"></a>00513                         m-&gt;type = <a class="code" href="rn-types_8h.html#c37ecf88c448feb116c70fd006409a84d9007e6048b3dba91dfc86f46dc919eb">c_router</a>;
<a name="l00514"></a>00514                         <a class="code" href="rn-extern_8h.html#415a115c34def079d8a050c69167e80b">g_rn_nrouters</a>++;
<a name="l00515"></a>00515                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">"c_ct_router"</span>, <a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"type"</span>)) == 0)
<a name="l00516"></a>00516                 {
<a name="l00517"></a>00517                         m-&gt;type = <a class="code" href="rn-types_8h.html#c37ecf88c448feb116c70fd006409a8406d8be132c69ee55e269a83c5f485b22">c_ct_router</a>;
<a name="l00518"></a>00518                         <a class="code" href="rn-extern_8h.html#415a115c34def079d8a050c69167e80b">g_rn_nrouters</a>++;
<a name="l00519"></a>00519                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">"c_og_router"</span>, <a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"type"</span>)) == 0)
<a name="l00520"></a>00520                 {
<a name="l00521"></a>00521                         m-&gt;type = <a class="code" href="rn-types_8h.html#c37ecf88c448feb116c70fd006409a84838336bdd85f8cb4fee32393d69c1ea0">c_og_router</a>;
<a name="l00522"></a>00522                         <a class="code" href="rn-extern_8h.html#415a115c34def079d8a050c69167e80b">g_rn_nrouters</a>++;
<a name="l00523"></a>00523                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">"c_co_router"</span>, <a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"type"</span>)) == 0)
<a name="l00524"></a>00524                 {
<a name="l00525"></a>00525                         m-&gt;type = <a class="code" href="rn-types_8h.html#c37ecf88c448feb116c70fd006409a840d9a08b5196c956c3b3e9dfd043bcb55">c_co_router</a>;
<a name="l00526"></a>00526                         <a class="code" href="rn-extern_8h.html#415a115c34def079d8a050c69167e80b">g_rn_nrouters</a>++;
<a name="l00527"></a>00527                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">"c_ha_router"</span>, <a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"type"</span>)) == 0)
<a name="l00528"></a>00528                 {
<a name="l00529"></a>00529                         m-&gt;type = <a class="code" href="rn-types_8h.html#c37ecf88c448feb116c70fd006409a84cfca03c2c7e1ebe9889b7649ee9ff288">c_ha_router</a>;
<a name="l00530"></a>00530                         <a class="code" href="rn-extern_8h.html#415a115c34def079d8a050c69167e80b">g_rn_nrouters</a>++;
<a name="l00531"></a>00531                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">"c_host"</span>, <a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"type"</span>)) == 0)
<a name="l00532"></a>00532                         m-&gt;type = <a class="code" href="rn-types_8h.html#c37ecf88c448feb116c70fd006409a84c617d746aac95241491603aa946adccc">c_host</a>;
<a name="l00533"></a>00533                 <span class="keywordflow">else</span>
<a name="l00534"></a>00534                         tw_error(TW_LOC, <span class="stringliteral">"Unknown node type: %s"</span>, <a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"type"</span>));
<a name="l00535"></a>00535 
<a name="l00536"></a>00536                 <span class="keywordflow">if</span>(m-&gt;subnet-&gt;machines == NULL)
<a name="l00537"></a>00537                         m-&gt;subnet-&gt;machines = &amp;<a class="code" href="rn-extern_8h.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a>[i];
<a name="l00538"></a>00538 
<a name="l00539"></a>00539 <span class="preprocessor">#if 0</span>
<a name="l00540"></a>00540 <span class="preprocessor"></span>                <span class="keywordflow">if</span>(<span class="keywordtype">id</span> &gt; 0 &amp;&amp; 
<a name="l00541"></a>00541                    <a class="code" href="rn-extern_8h.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a>[<span class="keywordtype">id</span>-1].subnet-&gt;id == <a class="code" href="rn-extern_8h.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a>[<span class="keywordtype">id</span>].subnet-&gt;id)
<a name="l00542"></a>00542                         <a class="code" href="rn-extern_8h.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a>[<span class="keywordtype">id</span>-1].next = &amp;<a class="code" href="rn-extern_8h.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a>[id];
<a name="l00543"></a>00543 <span class="preprocessor">#endif</span>
<a name="l00544"></a>00544 <span class="preprocessor"></span>
<a name="l00545"></a>00545                 m-&gt;subnet-&gt;nmachines++;
<a name="l00546"></a>00546                 m-&gt;subnet-&gt;area-&gt;nmachines++;
<a name="l00547"></a>00547                 m-&gt;link = (rn_link *) tw_calloc(TW_LOC, <span class="stringliteral">""</span>, <span class="keyword">sizeof</span>(rn_link) * m-&gt;nlinks, 1);
<a name="l00548"></a>00548                 m-&gt;hash_link = <a class="code" href="hash-quadratic_8c.html#f74555e04a66fd99b866754ef1a7ebef">rn_hash_create</a>(m-&gt;nlinks);
<a name="l00549"></a>00549 
<a name="l00550"></a>00550                 size += <span class="keyword">sizeof</span>(rn_link) * m-&gt;nlinks;
<a name="l00551"></a>00551 
<a name="l00552"></a>00552                 <span class="comment">//printf("Init\'ing Machines id: %d \n", m-&gt;id);</span>
<a name="l00553"></a>00553 
<a name="l00554"></a>00554                 node = obj-&gt;nodesetval-&gt;nodeTab[++i];
<a name="l00555"></a>00555         }
<a name="l00556"></a>00556 
<a name="l00557"></a>00557         xmlXPathFreeObject(obj);
<a name="l00558"></a>00558 
<a name="l00559"></a>00559         <a class="code" href="xml-libxml_8c.html#e0660190421efe9eeebf75623c317382">xml_link_topology</a>();
<a name="l00560"></a>00560 
<a name="l00561"></a>00561         <span class="comment">/*</span>
<a name="l00562"></a>00562 <span class="comment">         * Set up the global connection library</span>
<a name="l00563"></a>00563 <span class="comment">         */</span>
<a name="l00564"></a>00564         obj = <a class="code" href="rn-extern_8h.html#1ba6b31617e8e4f7346b7fb67c34d74a">xpath</a>(<span class="stringliteral">"//connect"</span>, <a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>);
<a name="l00565"></a>00565 
<a name="l00566"></a>00566         <span class="keywordflow">if</span>(obj-&gt;nodesetval-&gt;nodeNr)
<a name="l00567"></a>00567         {
<a name="l00568"></a>00568                 node = *obj-&gt;nodesetval-&gt;nodeTab;
<a name="l00569"></a>00569 
<a name="l00570"></a>00570                 <span class="keywordflow">for</span>(i = 0; i &lt; obj-&gt;nodesetval-&gt;nodeNr; )
<a name="l00571"></a>00571                 {
<a name="l00572"></a>00572                         m = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(atoll(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"src"</span>)));
<a name="l00573"></a>00573                         m-&gt;conn = atoll(<a class="code" href="rn-extern_8h.html#7a1c29f5a0e60ab08e5593acf5a463ba">xml_getprop</a>(node, <span class="stringliteral">"dst"</span>));
<a name="l00574"></a>00574 
<a name="l00575"></a>00575                         <span class="comment">// back link the connection</span>
<a name="l00576"></a>00576                         <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(m-&gt;conn)-&gt;conn = m-&gt;id;
<a name="l00577"></a>00577 
<a name="l00578"></a>00578                         node = obj-&gt;nodesetval-&gt;nodeTab[++i];
<a name="l00579"></a>00579                 }
<a name="l00580"></a>00580         }
<a name="l00581"></a>00581 
<a name="l00582"></a>00582         xmlXPathFreeObject(obj);
<a name="l00583"></a>00583 
<a name="l00584"></a>00584         <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="rn-extern_8h.html#7ca5dc0546d7333fe497cc998d7ba11a">g_rn_nmachines</a>; i++)
<a name="l00585"></a>00585         {
<a name="l00586"></a>00586                 m = <a class="code" href="rn-extern_8h.html#b586ebafc20ad652dd538635f5c816b0">rn_getmachine</a>(i);
<a name="l00587"></a>00587 
<a name="l00588"></a>00588                 sn = m-&gt;subnet;
<a name="l00589"></a>00589                 ar = sn-&gt;area;
<a name="l00590"></a>00590                 as = ar-&gt;as;
<a name="l00591"></a>00591 
<a name="l00592"></a>00592                 <span class="keywordflow">if</span>(i &lt; sn-&gt;low)
<a name="l00593"></a>00593                 {
<a name="l00594"></a>00594                         sn-&gt;low = i;
<a name="l00595"></a>00595 
<a name="l00596"></a>00596                         <span class="keywordflow">if</span>(i &lt; ar-&gt;low)
<a name="l00597"></a>00597                         {
<a name="l00598"></a>00598                                 ar-&gt;low = i;
<a name="l00599"></a>00599 
<a name="l00600"></a>00600                                 <span class="keywordflow">if</span>(0 &amp;&amp; i &lt; as-&gt;low)
<a name="l00601"></a>00601                                         as-&gt;low = i;
<a name="l00602"></a>00602                         }
<a name="l00603"></a>00603                 }
<a name="l00604"></a>00604 
<a name="l00605"></a>00605                 <span class="keywordflow">if</span>(i &gt; sn-&gt;high)
<a name="l00606"></a>00606                 {
<a name="l00607"></a>00607                         sn-&gt;high = i;
<a name="l00608"></a>00608 
<a name="l00609"></a>00609                         <span class="keywordflow">if</span>(i &gt; ar-&gt;high)
<a name="l00610"></a>00610                         {
<a name="l00611"></a>00611                                 ar-&gt;high = i;
<a name="l00612"></a>00612 
<a name="l00613"></a>00613                                 <span class="keywordflow">if</span>(0 &amp;&amp; i &gt; as-&gt;high)
<a name="l00614"></a>00614                                         as-&gt;high = i;
<a name="l00615"></a>00615                         }
<a name="l00616"></a>00616                 }
<a name="l00617"></a>00617 
<a name="l00618"></a>00618                 <span class="keywordflow">if</span>(m-&gt;type == <a class="code" href="rn-types_8h.html#c37ecf88c448feb116c70fd006409a84c617d746aac95241491603aa946adccc">c_host</a>)
<a name="l00619"></a>00619                         <span class="keywordflow">continue</span>;
<a name="l00620"></a>00620 
<a name="l00621"></a>00621                 ar-&gt;g_ospf_nlsa = ar-&gt;nmachines + ar-&gt;as-&gt;nareas + <a class="code" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a>;
<a name="l00622"></a>00622 
<a name="l00623"></a>00623                 <span class="keywordflow">if</span>(ar-&gt;nmachines == 0)
<a name="l00624"></a>00624                         tw_error(TW_LOC, <span class="stringliteral">"No machines in Area %d!\n"</span>, ar-&gt;id);
<a name="l00625"></a>00625 
<a name="l00626"></a>00626 <span class="preprocessor">#if 0</span>
<a name="l00627"></a>00627 <span class="preprocessor"></span>                m-&gt;ft = (<span class="keywordtype">int</span> *) tw_calloc(TW_LOC, <span class="stringliteral">""</span>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span> ) * ar-&gt;g_ospf_nlsa, 1);
<a name="l00628"></a>00628                 size += <span class="keyword">sizeof</span>(int) * ar-&gt;g_ospf_nlsa;
<a name="l00629"></a>00629 
<a name="l00630"></a>00630                 <span class="keywordflow">for</span>(j = 0; j &lt; ar-&gt;g_ospf_nlsa; j++)
<a name="l00631"></a>00631                         m-&gt;ft[j] = -1;
<a name="l00632"></a>00632 <span class="preprocessor">#endif</span>
<a name="l00633"></a>00633 <span class="preprocessor"></span>
<a name="l00634"></a>00634 <span class="comment">/*</span>
<a name="l00635"></a>00635 <span class="comment">                printf("mach %d: alloc FT of size: %d \n", </span>
<a name="l00636"></a>00636 <span class="comment">                        i, ar-&gt;nmachines + as-&gt;nareas + g_rn_nas);</span>
<a name="l00637"></a>00637 <span class="comment">*/</span>
<a name="l00638"></a>00638         }
<a name="l00639"></a>00639 
<a name="l00640"></a>00640         ar = NULL;
<a name="l00641"></a>00641         as = NULL;
<a name="l00642"></a>00642         <span class="keywordflow">while</span>(NULL != (as = <a class="code" href="rn-as_8c.html#21073a7b880365fc10762b642eb7bd31" title="Functions relating to an Autonomous System.">rn_nextas</a>(as)))
<a name="l00643"></a>00643         {
<a name="l00644"></a>00644                 <span class="keywordflow">while</span>(NULL != (ar = <a class="code" href="rn-area_8c.html#1f832ec1dcfed2b4e8c2162dea75ccfe">rn_nextarea_onas</a>(ar, as)))
<a name="l00645"></a>00645                 {
<a name="l00646"></a>00646                         <span class="keywordflow">if</span>(as-&gt;low == -1)
<a name="l00647"></a>00647                                 as-&gt;low = ar-&gt;id;
<a name="l00648"></a>00648                         as-&gt;high = ar-&gt;id;
<a name="l00649"></a>00649                 }
<a name="l00650"></a>00650 
<a name="l00651"></a>00651                 <span class="comment">//printf("AS %d: low %ld, high %ld \n", as-&gt;id, as-&gt;low, as-&gt;high);</span>
<a name="l00652"></a>00652         }
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 <span class="preprocessor">#if RN_XML_DEBUG || 1</span>
<a name="l00655"></a>00655 <span class="preprocessor"></span>                printf(<span class="stringliteral">"\n"</span>);
<a name="l00656"></a>00656                 printf(<span class="stringliteral">"%-32s %11d \n"</span>, <span class="stringliteral">"ASes: "</span>, <a class="code" href="rn-extern_8h.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a>);
<a name="l00657"></a>00657                 printf(<span class="stringliteral">"%-32s %11d \n"</span>, <span class="stringliteral">"Areas: "</span>, <a class="code" href="rn-extern_8h.html#a4b6f1685fffeec2b8b2290b175bfc38">g_rn_nareas</a>);
<a name="l00658"></a>00658                 printf(<span class="stringliteral">"%-32s %11d \n"</span>, <span class="stringliteral">"Subnets: "</span>, <a class="code" href="rn-extern_8h.html#d1b8f527a1303e1e1478e1e76f086a07">g_rn_nsubnets</a>);
<a name="l00659"></a>00659                 printf(<span class="stringliteral">"%-32s %11d \n"</span>, <span class="stringliteral">"Machines: "</span>, g_rn_nmachines);
<a name="l00660"></a>00660                 printf(<span class="stringliteral">"%-32s %11d \n"</span>, <span class="stringliteral">"Links: "</span>, <a class="code" href="rn-extern_8h.html#0641aa1753cada99ed7c03e192fdc3a8">g_rn_nlinks</a>);
<a name="l00661"></a>00661                 printf(<span class="stringliteral">"%-32s %11d bytes\n"</span>, <span class="stringliteral">"Total topology size: "</span>, size);
<a name="l00662"></a>00662 <span class="preprocessor">#endif</span>
<a name="l00663"></a>00663 <span class="preprocessor"></span>
<a name="l00664"></a>00664         <span class="comment">//verify_topology();</span>
<a name="l00665"></a>00665 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7a1c29f5a0e60ab08e5593acf5a463ba"></a><!-- doxytag: member="rn-extern.h::xml_getprop" ref="7a1c29f5a0e60ab08e5593acf5a463ba" args="(xmlNode *node, char *prop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* xml_getprop           </td>
          <td>(</td>
          <td class="paramtype">xmlNode *&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>prop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xml-libxml_8c-source.html#l00207">207</a> of file <a class="el" href="xml-libxml_8c-source.html">xml-libxml.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-xml_8c-source.html#l00006">bgp_xml()</a>, <a class="el" href="epi-xml_8c-source.html#l00008">epi_xml()</a>, <a class="el" href="ospf-main_8c-source.html#l00120">main_setup_areas()</a>, <a class="el" href="num-xml_8c-source.html#l00004">num_xml()</a>, <a class="el" href="ospf-xml_8c-source.html#l00004">ospf_xml()</a>, <a class="el" href="rn-setup_8c-source.html#l00004">rn_setup_layers()</a>, <a class="el" href="rn-setup_8c-source.html#l00081">rn_setup_streams()</a>, <a class="el" href="xml-libxml_8c-source.html#l00153">rn_xml_link_topology()</a>, <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, <a class="el" href="tcp-layer-xml_8c-source.html#l00004">tcp_layer_xml()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00226">xml_link_topology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00208"></a>00208 {
<a name="l00209"></a>00209         xmlAttrPtr next = node-&gt;properties;
<a name="l00210"></a>00210 
<a name="l00211"></a>00211         <span class="keywordflow">while</span>(next)
<a name="l00212"></a>00212         {
<a name="l00213"></a>00213                 <span class="keywordflow">if</span>(0 == strcmp(prop, (<span class="keywordtype">char</span> *) next-&gt;name))
<a name="l00214"></a>00214                         <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *) next-&gt;children-&gt;content;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216                 next = next-&gt;next;
<a name="l00217"></a>00217         }
<a name="l00218"></a>00218 
<a name="l00219"></a>00219         <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
<a name="l00220"></a>00220 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1ba6b31617e8e4f7346b7fb67c34d74a"></a><!-- doxytag: member="rn-extern.h::xpath" ref="1ba6b31617e8e4f7346b7fb67c34d74a" args="(char *expr, xmlXPathContextPtr ctxt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmlXPathObjectPtr xpath           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">xmlXPathContextPtr&nbsp;</td>
          <td class="paramname"> <em>ctxt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="xml-libxml_8c-source.html#l00068">68</a> of file <a class="el" href="xml-libxml_8c-source.html">xml-libxml.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-main_8c-source.html#l00109">bgp_setup_ases()</a>, <a class="el" href="ospf-main_8c-source.html#l00281">ospf_main()</a>, <a class="el" href="xml-libxml_8c-source.html#l00153">rn_xml_link_topology()</a>, <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, <a class="el" href="tcp-layer-xml_8c-source.html#l00004">tcp_layer_xml()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00226">xml_link_topology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00069"></a>00069 {
<a name="l00070"></a>00070         <span class="keywordflow">return</span> xmlXPathEvalExpression(BAD_CAST expr, <a class="code" href="rn-extern_8h.html#be628a165ce36512670a0d77bda92693">ctxt</a>);
<a name="l00071"></a>00071 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="be628a165ce36512670a0d77bda92693"></a><!-- doxytag: member="rn-extern.h::ctxt" ref="be628a165ce36512670a0d77bda92693" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmlXPathContextPtr <a class="el" href="rn-global_8c.html#be628a165ce36512670a0d77bda92693">ctxt</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00091">91</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-main_8c-source.html#l00109">bgp_setup_ases()</a>, <a class="el" href="ospf-main_8c-source.html#l00281">ospf_main()</a>, <a class="el" href="xml-libxml_8c-source.html#l00135">rn_xml_end()</a>, <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>, <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, <a class="el" href="tcp-layer-xml_8c-source.html#l00004">tcp_layer_xml()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00226">xml_link_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d3661c804119c039f47237343db3c616"></a><!-- doxytag: member="rn-extern.h::ctxt_links" ref="d3661c804119c039f47237343db3c616" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmlXPathContextPtr <a class="el" href="rn-global_8c.html#d3661c804119c039f47237343db3c616">ctxt_links</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00092">92</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00153">rn_xml_link_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bf02fcaac7110159391e0374a38b83f4"></a><!-- doxytag: member="rn-extern.h::ctxt_model" ref="bf02fcaac7110159391e0374a38b83f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmlXPathContextPtr <a class="el" href="rn-global_8c.html#bf02fcaac7110159391e0374a38b83f4">ctxt_model</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00093">93</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="aa8ab1bdabd942b8b8a32078e9222af7"></a><!-- doxytag: member="rn-extern.h::document_links" ref="aa8ab1bdabd942b8b8a32078e9222af7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmlDocPtr <a class="el" href="rn-global_8c.html#aa8ab1bdabd942b8b8a32078e9222af7">document_links</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00088">88</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00135">rn_xml_end()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3d821f7d07830b11765946503d18c0f5"></a><!-- doxytag: member="rn-extern.h::document_model" ref="3d821f7d07830b11765946503d18c0f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmlDocPtr <a class="el" href="rn-global_8c.html#3d821f7d07830b11765946503d18c0f5">document_model</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00089">89</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00135">rn_xml_end()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ed2ae1d48ae8ce65c4143eb7be1d5956"></a><!-- doxytag: member="rn-extern.h::document_network" ref="ed2ae1d48ae8ce65c4143eb7be1d5956" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmlDocPtr <a class="el" href="rn-global_8c.html#ed2ae1d48ae8ce65c4143eb7be1d5956">document_network</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00087">87</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00135">rn_xml_end()</a>, <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>, and <a class="el" href="tcp-layer-xml_8c-source.html#l00004">tcp_layer_xml()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0589d14c7531c798c923c2bd972cfa09"></a><!-- doxytag: member="rn-extern.h::g_rn_areas" ref="0589d14c7531c798c923c2bd972cfa09" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_area* <a class="el" href="rn-global_8c.html#0589d14c7531c798c923c2bd972cfa09">g_rn_areas</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00047">47</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-init_8c-source.html#l00070">bgp_init()</a>, <a class="el" href="ospf-main_8c-source.html#l00120">main_setup_areas()</a>, <a class="el" href="rn-area_8c-source.html#l00007">rn_nextarea()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e962fc7d5ec532396dd1808ce2b4e44a"></a><!-- doxytag: member="rn-extern.h::g_rn_as" ref="e962fc7d5ec532396dd1808ce2b4e44a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_as* <a class="el" href="rn-global_8c.html#e962fc7d5ec532396dd1808ce2b4e44a">g_rn_as</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00044">44</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-as_8c-source.html#l00007">rn_nextas()</a>, <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, <a class="el" href="bgp-update_8c-source.html#l00135">update_add()</a>, and <a class="el" href="bgp-update_8c-source.html#l00229">update_withdraw()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fc24f4e05a9f4d5cdcab736a00af995c"></a><!-- doxytag: member="rn-extern.h::g_rn_barrier" ref="fc24f4e05a9f4d5cdcab736a00af995c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_barrier <a class="el" href="rn-global_8c.html#fc24f4e05a9f4d5cdcab736a00af995c">g_rn_barrier</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
g_rn_barrier -- barrier used during lp initialization, gives RN a chance to init sequential, in multi-threaded enviroment of ROSS g_rn_lp_lck -- lock used in rn_lps, during tw_init_lps, to init local lps 
<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00100">100</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-init_8c-source.html#l00055">rn_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b5f1b9e6a511e7afe74d971e088af5b4"></a><!-- doxytag: member="rn-extern.h::g_rn_converge_bgp" ref="b5f1b9e6a511e7afe74d971e088af5b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="rn-global_8c.html#b5f1b9e6a511e7afe74d971e088af5b4">g_rn_converge_bgp</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00005">5</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-init_8c-source.html#l00004">init_rib()</a>, <a class="el" href="ospf-router_8c-source.html#l00237">ospf_startup()</a>, and <a class="el" href="ospf-stats_8c-source.html#l00008">ospf_statistics_collection()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1f8c72ceadd5707b682dc77968ffd6d5"></a><!-- doxytag: member="rn-extern.h::g_rn_converge_ospf" ref="1f8c72ceadd5707b682dc77968ffd6d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="rn-global_8c.html#1f8c72ceadd5707b682dc77968ffd6d5">g_rn_converge_ospf</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00004">4</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-router_8c-source.html#l00004">bgp_event_handler()</a>, <a class="el" href="bgp-stats_8c-source.html#l00004">bgp_final()</a>, <a class="el" href="bgp-init_8c-source.html#l00070">bgp_init()</a>, <a class="el" href="ospf-database_8c-source.html#l00518">flood_summary()</a>, <a class="el" href="bgp-init_8c-source.html#l00004">init_rib()</a>, <a class="el" href="ospf-main_8c-source.html#l00281">ospf_main()</a>, <a class="el" href="ospf-router_8c-source.html#l00237">ospf_startup()</a>, and <a class="el" href="ospf-stats_8c-source.html#l00008">ospf_statistics_collection()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6e0e4107628b08b633bca7ef6cbba758"></a><!-- doxytag: member="rn-extern.h::g_rn_dst" ref="6e0e4107628b08b633bca7ef6cbba758" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="rn-global_8c.html#6e0e4107628b08b633bca7ef6cbba758">g_rn_dst</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00008">8</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="f2dad8c4f8bab4b8b1ab48751b65ebd0"></a><!-- doxytag: member="rn-extern.h::g_rn_layer_lck" ref="f2dad8c4f8bab4b8b1ab48751b65ebd0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_mutex <a class="el" href="rn-global_8c.html#f2dad8c4f8bab4b8b1ab48751b65ebd0">g_rn_layer_lck</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00101">101</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-init_8c-source.html#l00055">rn_init()</a>, and <a class="el" href="rn-layer_8c-source.html#l00008">rn_layer_alloc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="111555df5ca6d0bfb0ada1a6e9f2b7fc"></a><!-- doxytag: member="rn-extern.h::g_rn_layers" ref="111555df5ca6d0bfb0ada1a6e9f2b7fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_layer* <a class="el" href="rn-global_8c.html#111555df5ca6d0bfb0ada1a6e9f2b7fc">g_rn_layers</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00065">65</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-init_8c-source.html#l00055">rn_init()</a>, and <a class="el" href="rn-layer_8c-source.html#l00008">rn_layer_alloc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="827667617ac3f5b6c168ec177fe72cf1"></a><!-- doxytag: member="rn-extern.h::g_rn_link_prob" ref="827667617ac3f5b6c168ec177fe72cf1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="rn-global_8c.html#827667617ac3f5b6c168ec177fe72cf1">g_rn_link_prob</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00003">3</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-link_8c-source.html#l00051">rn_link_random_changes()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a46f0adf0f6be6d672defc691800ce69"></a><!-- doxytag: member="rn-extern.h::g_rn_logs_dir" ref="a46f0adf0f6be6d672defc691800ce69" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="rn-global_8c.html#c124972dc5f7092f5c109ffbdd8859ef">g_rn_logs_dir</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00085">85</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-stats_8c-source.html#l00004">bgp_final()</a>, <a class="el" href="bgp-init_8c-source.html#l00070">bgp_init()</a>, <a class="el" href="save_2epi-main_8c-source.html#l00008">epi_main()</a>, <a class="el" href="epi-setup_8c-source.html#l00030">epi_setup_options()</a>, <a class="el" href="ip-model_8c-source.html#l00011">ip_md_init()</a>, <a class="el" href="num-setup_8c-source.html#l00029">num_setup_options()</a>, <a class="el" href="ospf-main_8c-source.html#l00281">ospf_main()</a>, <a class="el" href="ospf-main_8c-source.html#l00009">ospf_setup_options()</a>, <a class="el" href="ospf-router_8c-source.html#l00237">ospf_startup()</a>, <a class="el" href="ospf-stats_8c-source.html#l00008">ospf_statistics_collection()</a>, <a class="el" href="save_2ip-routing_8c-source.html#l00025">routing_write()</a>, and <a class="el" href="tcp_8c-source.html#l00208">tcp_final()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b4129909b76832eee80ae7a39dbcd907"></a><!-- doxytag: member="rn-extern.h::g_rn_lptypes" ref="b4129909b76832eee80ae7a39dbcd907" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_lptype* <a class="el" href="rn-global_8c.html#b4129909b76832eee80ae7a39dbcd907">g_rn_lptypes</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
g_rn_lptypes -- list of module lp types 
<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00071">71</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>, <a class="el" href="rn-lp_8c-source.html#l00037">rn_lp_gettype()</a>, and <a class="el" href="rn-lp_8c-source.html#l00025">rn_lp_settype()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ee3d7ec53a8a3c8bff8efb090a32d5fd"></a><!-- doxytag: member="rn-extern.h::g_rn_machines" ref="ee3d7ec53a8a3c8bff8efb090a32d5fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_machine* <a class="el" href="rn-global_8c.html#ee3d7ec53a8a3c8bff8efb090a32d5fd">g_rn_machines</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00058">58</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="ospf-main_8c-source.html#l00386">ospf_md_final()</a>, <a class="el" href="rn_8c-source.html#l00235">rn_event_handler()</a>, <a class="el" href="rn-machine_8c-source.html#l00004">rn_getmachine()</a>, <a class="el" href="rn-machine_8c-source.html#l00010">rn_setmachine()</a>, <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, <a class="el" href="ip-routing_8c-source.html#l00075">routing_write()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00226">xml_link_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6d41cec685740bbfb7e6540e1ed5dff5"></a><!-- doxytag: member="rn-extern.h::g_rn_msg_sz" ref="6d41cec685740bbfb7e6540e1ed5dff5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#6d41cec685740bbfb7e6540e1ed5dff5">g_rn_msg_sz</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00016">16</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a4b6f1685fffeec2b8b2290b175bfc38"></a><!-- doxytag: member="rn-extern.h::g_rn_nareas" ref="a4b6f1685fffeec2b8b2290b175bfc38" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#a4b6f1685fffeec2b8b2290b175bfc38">g_rn_nareas</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00046">46</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="ospf-main_8c-source.html#l00120">main_setup_areas()</a>, <a class="el" href="rn-area_8c-source.html#l00007">rn_nextarea()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="353089f1049e9e0d5160683103c17e62"></a><!-- doxytag: member="rn-extern.h::g_rn_nas" ref="353089f1049e9e0d5160683103c17e62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#353089f1049e9e0d5160683103c17e62">g_rn_nas</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
These are the data type lists that make up a topology.<p>
g_rn_nas -- number of ASes in the topology g_rn_as -- list of ASes in the top<p>
g_rn_nareas -- number of areas in the topology g_rn_areas -- list of Areas in the topology<p>
g_rn_nsubnets -- number of subnets in the topology g_rn_subnets -- list of Subnets in the topology<p>
g_rn_nmachines -- number of machines in the topology g_rn_machines -- list of machines in the topology<p>
g_rn_nstreams -- number of streams in the topology g_rn_streams -- global array of streams<p>
g_rn_nlayers -- number of layers in the topology g_rn_layers -- layer lps in the topology<p>
g_rn_nextlp -- the next layer LP to allocate 
<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00043">43</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-stats_8c-source.html#l00004">bgp_final()</a>, <a class="el" href="bgp-init_8c-source.html#l00070">bgp_init()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00042">bgp_keepalive()</a>, <a class="el" href="bgp-main_8c-source.html#l00208">bgp_md_final()</a>, <a class="el" href="bgp-mrai_8c-source.html#l00020">bgp_mrai_timer()</a>, <a class="el" href="bgp-open_8c-source.html#l00048">bgp_open()</a>, <a class="el" href="bgp-route_8c-source.html#l00360">bgp_rib_print()</a>, <a class="el" href="bgp-main_8c-source.html#l00109">bgp_setup_ases()</a>, <a class="el" href="bgp-main_8c-source.html#l00007">bgp_setup_options()</a>, <a class="el" href="bgp-keepalive_8c-source.html#l00156">deal_with_timed_out_routers()</a>, <a class="el" href="bgp-init_8c-source.html#l00004">init_rib()</a>, <a class="el" href="ospf-database_8c-source.html#l00393">ospf_db_init()</a>, <a class="el" href="ospf-routing_8c-source.html#l00224">ospf_rt_print()</a>, <a class="el" href="rn-as_8c-source.html#l00007">rn_nextas()</a>, <a class="el" href="rn-routing_8c-source.html#l00007">rn_route()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4bb80f1674984b5980c132a686cb0e0a"></a><!-- doxytag: member="rn-extern.h::g_rn_nextlayer" ref="4bb80f1674984b5980c132a686cb0e0a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#4bb80f1674984b5980c132a686cb0e0a">g_rn_nextlayer</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00066">66</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-layer_8c-source.html#l00008">rn_layer_alloc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ce8de6e19ef1ead23e7fdc435ee3f119"></a><!-- doxytag: member="rn-extern.h::g_rn_nextstream" ref="ce8de6e19ef1ead23e7fdc435ee3f119" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#ce8de6e19ef1ead23e7fdc435ee3f119">g_rn_nextstream</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00062">62</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-stream_8c-source.html#l00042">rn_stream_alloc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="935d14a7cca164ca547f89596a675511"></a><!-- doxytag: member="rn-extern.h::g_rn_nlayers" ref="935d14a7cca164ca547f89596a675511" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#935d14a7cca164ca547f89596a675511">g_rn_nlayers</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00064">64</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-init_8c-source.html#l00055">rn_init()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f19835b74f981f1e98a215a488aa0342"></a><!-- doxytag: member="rn-extern.h::g_rn_nlink_status" ref="f19835b74f981f1e98a215a488aa0342" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#f19835b74f981f1e98a215a488aa0342">g_rn_nlink_status</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00055">55</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-setup_8c-source.html#l00164">rn_setup_links()</a>, and <a class="el" href="rn_8c-source.html#l00169">rn_startup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0641aa1753cada99ed7c03e192fdc3a8"></a><!-- doxytag: member="rn-extern.h::g_rn_nlinks" ref="0641aa1753cada99ed7c03e192fdc3a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#0641aa1753cada99ed7c03e192fdc3a8">g_rn_nlinks</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00054">54</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00226">xml_link_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7ca5dc0546d7333fe497cc998d7ba11a"></a><!-- doxytag: member="rn-extern.h::g_rn_nmachines" ref="7ca5dc0546d7333fe497cc998d7ba11a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#7ca5dc0546d7333fe497cc998d7ba11a">g_rn_nmachines</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00057">57</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="ospf-main_8c-source.html#l00386">ospf_md_final()</a>, <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>, <a class="el" href="ip-routing_8c-source.html#l00178">routing_init_ft_write()</a>, <a class="el" href="ip-routing_8c-source.html#l00024">routing_read()</a>, <a class="el" href="ip-routing_8c-source.html#l00075">routing_write()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00226">xml_link_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="415a115c34def079d8a050c69167e80b"></a><!-- doxytag: member="rn-extern.h::g_rn_nrouters" ref="415a115c34def079d8a050c69167e80b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#415a115c34def079d8a050c69167e80b">g_rn_nrouters</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00052">52</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="ospf-ip_8c-source.html#l00005">ospf_ip_route()</a>, <a class="el" href="ospf-router-debug_8c-source.html#l00030">ospf_router_debug_routing()</a>, <a class="el" href="ospf-routing_8c-source.html#l00404">ospf_routing_init()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b98149ec75dce4cb706da065bc57d27f"></a><!-- doxytag: member="rn-extern.h::g_rn_nstreams" ref="b98149ec75dce4cb706da065bc57d27f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#b98149ec75dce4cb706da065bc57d27f">g_rn_nstreams</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00060">60</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-init_8c-source.html#l00055">rn_init()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d1b8f527a1303e1e1478e1e76f086a07"></a><!-- doxytag: member="rn-extern.h::g_rn_nsubnets" ref="d1b8f527a1303e1e1478e1e76f086a07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="rn-global_8c.html#d1b8f527a1303e1e1478e1e76f086a07">g_rn_nsubnets</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00049">49</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e26a2f6ed0f9caa31e7f5809a42e90c0"></a><!-- doxytag: member="rn-extern.h::g_rn_rt_table" ref="e26a2f6ed0f9caa31e7f5809a42e90c0" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="rn-global_8c.html#2f01bf5ed242e988670ead09fd7c19f6">g_rn_rt_table</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00083">83</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="ospf-main_8c-source.html#l00009">ospf_setup_options()</a>, and <a class="el" href="rn-setup_8c-source.html#l00205">rn_setup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="66f1631e26ca6c83a658476c809de53b"></a><!-- doxytag: member="rn-extern.h::g_rn_src" ref="66f1631e26ca6c83a658476c809de53b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="rn-global_8c.html#66f1631e26ca6c83a658476c809de53b">g_rn_src</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00007">7</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="e2f7f2bc2453205e257508d6cd64a5f4"></a><!-- doxytag: member="rn-extern.h::g_rn_stats" ref="e2f7f2bc2453205e257508d6cd64a5f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_statistics* <a class="el" href="rn-global_8c.html#e2f7f2bc2453205e257508d6cd64a5f4">g_rn_stats</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00018">18</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn_8c-source.html#l00522">main()</a>, <a class="el" href="rn_8c-source.html#l00439">rn_final()</a>, and <a class="el" href="rn_8c-source.html#l00481">rn_print_statistics()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f352e8afc1578ec4cddee3bdab4ae52d"></a><!-- doxytag: member="rn-extern.h::g_rn_stream_lck" ref="f352e8afc1578ec4cddee3bdab4ae52d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tw_mutex <a class="el" href="rn-global_8c.html#f352e8afc1578ec4cddee3bdab4ae52d">g_rn_stream_lck</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00102">102</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-init_8c-source.html#l00055">rn_init()</a>, and <a class="el" href="rn-stream_8c-source.html#l00042">rn_stream_alloc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="23edd0fd73827e4194341e6b07f5efb0"></a><!-- doxytag: member="rn-extern.h::g_rn_streams" ref="23edd0fd73827e4194341e6b07f5efb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_stream* <a class="el" href="rn-global_8c.html#23edd0fd73827e4194341e6b07f5efb0">g_rn_streams</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00061">61</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-init_8c-source.html#l00055">rn_init()</a>, and <a class="el" href="rn-stream_8c-source.html#l00042">rn_stream_alloc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0d408e13de1c36dd0e652d9d4ce99d8b"></a><!-- doxytag: member="rn-extern.h::g_rn_subnets" ref="0d408e13de1c36dd0e652d9d4ce99d8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rn_subnet* <a class="el" href="rn-global_8c.html#0d408e13de1c36dd0e652d9d4ce99d8b">g_rn_subnets</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00050">50</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00364">rn_xml_topology()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7199204689d83ed6e37695c3baaa2f85"></a><!-- doxytag: member="rn-extern.h::g_rn_tools_dir" ref="7199204689d83ed6e37695c3baaa2f85" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="rn-global_8c.html#1a17fb05e55fef747e4141e9608551e1">g_rn_tools_dir</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00084">84</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="bgp-main_8c-source.html#l00147">bgp_main()</a>, <a class="el" href="epi-setup_8c-source.html#l00030">epi_setup_options()</a>, <a class="el" href="num-setup_8c-source.html#l00029">num_setup_options()</a>, <a class="el" href="ospf-main_8c-source.html#l00281">ospf_main()</a>, <a class="el" href="rn-setup_8c-source.html#l00205">rn_setup()</a>, <a class="el" href="ip-routing_8c-source.html#l00024">routing_read()</a>, and <a class="el" href="ip-routing_8c-source.html#l00075">routing_write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ac5ec8643078b9816be32d2eb0583bc7"></a><!-- doxytag: member="rn-extern.h::g_rn_ttl" ref="ac5ec8643078b9816be32d2eb0583bc7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="rn-global_8c.html#ac5ec8643078b9816be32d2eb0583bc7">g_rn_ttl</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
rossnet global data items<p>
g_rn_stats -- rossnet statistics struct 
<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00015">15</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="ip-upstream_8c-source.html#l00023">ip_rc_upstream()</a>, <a class="el" href="ip-upstream_8c-source.html#l00004">ip_upstream()</a>, <a class="el" href="rn-event_8c-source.html#l00058">rn_event_new()</a>, and <a class="el" href="ip-routing_8c-source.html#l00178">routing_init_ft_write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c3d4953961d8eb1c314de927cfe34d8c"></a><!-- doxytag: member="rn-extern.h::g_rn_xml_link_topology" ref="c3d4953961d8eb1c314de927cfe34d8c" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="rn-global_8c.html#a2b04419ca2bc0c2773fdb8033bd97eb">g_rn_xml_link_topology</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00081">81</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-setup_8c-source.html#l00205">rn_setup()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="850a32d9b3d45f3b6f44b98ab26403c4"></a><!-- doxytag: member="rn-extern.h::g_rn_xml_model" ref="850a32d9b3d45f3b6f44b98ab26403c4" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="rn-global_8c.html#d9ee626cf38d2711e6cb77932a1c5e55">g_rn_xml_model</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00082">82</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6116080aae51cd236a5e93bae46780f1"></a><!-- doxytag: member="rn-extern.h::g_rn_xml_topology" ref="6116080aae51cd236a5e93bae46780f1" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="rn-global_8c.html#7864a6f0457175782a4730a4ce7dbabe">g_rn_xml_topology</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
These are the files that hold the topology and the model configurations.<p>
g_rn_xml_topology -- the node topology descriptor g_rn_link_topology -- the link topology descriptor g_rn_xml_model -- the model descriptor 
<p>Definition at line <a class="el" href="rn-global_8c-source.html#l00080">80</a> of file <a class="el" href="rn-global_8c-source.html">rn-global.c</a>.</p>

<p>Referenced by <a class="el" href="rn-setup_8c-source.html#l00205">rn_setup()</a>, and <a class="el" href="xml-libxml_8c-source.html#l00077">rn_xml_init()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 27 09:38:30 2009 for ROSS.Net by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
